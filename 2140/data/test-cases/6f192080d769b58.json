{"uid":"6f192080d769b58","name":"test_kill_db_process","fullName":"tests.integration.high_availability.test_self_healing#test_kill_db_process","historyId":"cf89d21b60cb6eab4b436c583b096289","time":{"start":1722736787280,"stop":1722736787280,"duration":0},"description":"Test to send a SIGKILL to the primary db process and ensure that the cluster self heals.","descriptionHtml":"<p>Test to send a SIGKILL to the primary db process and ensure that the cluster self heals.</p>\n","status":"broken","statusMessage":"KeyError: 'mysql-test-app'","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 157, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 497, in setup\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 494, in setup\n    col.setup()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1795, in setup\n    self._request._fillfixtures()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 566, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 585, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1069, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in _asyncgen_fixture_wrapper\n    result = event_loop.run_until_complete(setup())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 284, in setup\n    res = await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 25, in continuous_writes\n    application_unit = ops_test.model.applications[APPLICATION_DEFAULT_APP_NAME].units[0]\nKeyError: 'mysql-test-app'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1722735886607,"stop":1722735886608,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1722735886608,"stop":1722735886881,"duration":273},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1722735886608,"stop":1722735886608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1722736787280,"stop":1722736787280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1722736787281,"stop":1722736787281,"duration":0},"status":"broken","statusMessage":"KeyError: 'mysql-test-app'\n","statusTrace":"  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in _asyncgen_fixture_wrapper\n    result = event_loop.run_until_complete(setup())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 284, in setup\n    res = await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 25, in continuous_writes\n    application_unit = ops_test.model.applications[APPLICATION_DEFAULT_APP_NAME].units[0]\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1722736787282,"stop":1722736787282,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1722736787292,"stop":1722736787634,"duration":342},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1722736787635,"stop":1722736787635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1722736787635,"stop":1722736787635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1722736787635,"stop":1722736787635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1269-709"},{"name":"thread","value":"12672-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ddf9c93786ba1e46","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":15,"skipped":6,"passed":136,"unknown":0,"total":160},"items":[{"uid":"c42c01e72d3c56f6","reportUrl":"../2136//#testresult/c42c01e72d3c56f6","status":"broken","statusDetails":"KeyError: 'mysql-test-app'","time":{"start":1722563788924,"stop":1722563788924,"duration":0}},{"uid":"766671204394709c","reportUrl":"../2134//#testresult/766671204394709c","status":"passed","time":{"start":1722476193109,"stop":1722476297207,"duration":104098}},{"uid":"cc0a830b3618d408","reportUrl":"../2128//#testresult/cc0a830b3618d408","status":"passed","time":{"start":1722389660718,"stop":1722389756295,"duration":95577}},{"uid":"d0103bb75bb84f39","reportUrl":"../2126//#testresult/d0103bb75bb84f39","status":"passed","time":{"start":1722303389577,"stop":1722303502378,"duration":112801}},{"uid":"5de6e23685dbb4","reportUrl":"../2121//#testresult/5de6e23685dbb4","status":"passed","time":{"start":1722217004338,"stop":1722217105175,"duration":100837}},{"uid":"a3be4078966054e2","reportUrl":"../2120//#testresult/a3be4078966054e2","status":"passed","time":{"start":1722130681692,"stop":1722130783373,"duration":101681}},{"uid":"560bb8a41eef362","reportUrl":"../2119//#testresult/560bb8a41eef362","status":"passed","time":{"start":1722044120521,"stop":1722044218215,"duration":97694}},{"uid":"4276165abb462773","reportUrl":"../2112//#testresult/4276165abb462773","status":"passed","time":{"start":1721957840988,"stop":1721957941882,"duration":100894}},{"uid":"b2c04a93f5cc4199","reportUrl":"../2105//#testresult/b2c04a93f5cc4199","status":"passed","time":{"start":1721871320188,"stop":1721871429276,"duration":109088}},{"uid":"f955aaa4157119d4","reportUrl":"../2103//#testresult/f955aaa4157119d4","status":"passed","time":{"start":1721785464426,"stop":1721785559038,"duration":94612}},{"uid":"29f649c4ad4b6b16","reportUrl":"../2101//#testresult/29f649c4ad4b6b16","status":"passed","time":{"start":1721699022833,"stop":1721699125833,"duration":103000}},{"uid":"2ec56ba3a29d5333","reportUrl":"../2095//#testresult/2ec56ba3a29d5333","status":"passed","time":{"start":1721612217769,"stop":1721612331598,"duration":113829}},{"uid":"b521226258fe09fd","reportUrl":"../2094//#testresult/b521226258fe09fd","status":"passed","time":{"start":1721525720679,"stop":1721525820451,"duration":99772}},{"uid":"54001e76978f0c09","reportUrl":"../2093//#testresult/54001e76978f0c09","status":"passed","time":{"start":1721439358436,"stop":1721439463330,"duration":104894}},{"uid":"7f8984a25c758c44","reportUrl":"../2087//#testresult/7f8984a25c758c44","status":"passed","time":{"start":1721356670168,"stop":1721356775034,"duration":104866}},{"uid":"df64b3b8b3518513","reportUrl":"../2082//#testresult/df64b3b8b3518513","status":"passed","time":{"start":1721266644327,"stop":1721266756169,"duration":111842}},{"uid":"cd80828646f32154","reportUrl":"../2079//#testresult/cd80828646f32154","status":"passed","time":{"start":1721180420799,"stop":1721180520549,"duration":99750}},{"uid":"e0757035f9238557","reportUrl":"../2077//#testresult/e0757035f9238557","status":"passed","time":{"start":1721093809940,"stop":1721093904601,"duration":94661}},{"uid":"8ea3ddb318dfe2f","reportUrl":"../2071//#testresult/8ea3ddb318dfe2f","status":"passed","time":{"start":1721007653084,"stop":1721007745841,"duration":92757}},{"uid":"2d06dff6dc0bfe34","reportUrl":"../2070//#testresult/2d06dff6dc0bfe34","status":"passed","time":{"start":1720921165601,"stop":1720921266192,"duration":100591}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"6f192080d769b58.json","parameterValues":[]}