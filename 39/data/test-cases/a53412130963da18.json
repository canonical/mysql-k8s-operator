{"uid":"a53412130963da18","name":"test_cluster_failover_after_majority_loss","fullName":"tests.integration.integration.high_availability.test_primary_switchover#test_cluster_failover_after_majority_loss","historyId":"d5f0ac37b017e0503da9aa6d9054b576","time":{"start":1766281825782,"stop":1766282078615,"duration":252833},"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","descriptionHtml":"<p>Test the promote-to-primary command after losing the majority of nodes, with force flag.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1766281584884,"stop":1766281585168,"duration":284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1766281584884,"stop":1766281584884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1766281584884,"stop":1766281584884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1766281585168,"stop":1766281585169,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1766281585169,"stop":1766281585385,"duration":216},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1766281585385,"stop":1766281787176,"duration":201791},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1766281825782,"stop":1766281825782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","status":"passed","steps":[],"attachments":[{"uid":"13ec168a93eb6b1a","name":"log","source":"13ec168a93eb6b1a.txt","type":"text/plain","size":3067}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1766282078615,"stop":1766282078615,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1766282078615,"stop":1766282078616,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1766282078616,"stop":1766282079017,"duration":401},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1766282079018,"stop":1766282079018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1766282079018,"stop":1766282079018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1766282079018,"stop":1766282079018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1766282079019,"stop":1766282079251,"duration":232},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration.integration.high_availability"},{"name":"suite","value":"test_primary_switchover"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"17972-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integration.high_availability.test_primary_switchover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6450138f3b271c49","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":10,"unknown":0,"total":14},"items":[{"uid":"f1d9c68ac97beeb6","reportUrl":"../38//#testresult/f1d9c68ac97beeb6","status":"passed","time":{"start":1766195293512,"stop":1766195558837,"duration":265325}},{"uid":"8d71511c5e1d0a38","reportUrl":"../37//#testresult/8d71511c5e1d0a38","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1766110184900,"stop":1766110293153,"duration":108253}},{"uid":"c4f5ea9099ad0edb","reportUrl":"../36//#testresult/c4f5ea9099ad0edb","status":"passed","time":{"start":1766022981409,"stop":1766023241857,"duration":260448}},{"uid":"f13f4025d050655a","reportUrl":"../35//#testresult/f13f4025d050655a","status":"passed","time":{"start":1765936626417,"stop":1765936934980,"duration":308563}},{"uid":"1f6f964e71745649","reportUrl":"../34//#testresult/1f6f964e71745649","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1765850489234,"stop":1765850590200,"duration":100966}},{"uid":"53f2ced5c3e05f10","reportUrl":"../33//#testresult/53f2ced5c3e05f10","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1765785552634,"stop":1765785683004,"duration":130370}},{"uid":"f352399c64b9bbd9","reportUrl":"../31//#testresult/f352399c64b9bbd9","status":"passed","time":{"start":1765590665569,"stop":1765590984748,"duration":319179}},{"uid":"b569ef8a5451c47b","reportUrl":"../30//#testresult/b569ef8a5451c47b","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1765504155047,"stop":1765504259724,"duration":104677}},{"uid":"edeead40e26eb04a","reportUrl":"../29//#testresult/edeead40e26eb04a","status":"passed","time":{"start":1765419237687,"stop":1765419481792,"duration":244105}},{"uid":"d5dc3efb6e88573e","reportUrl":"../26//#testresult/d5dc3efb6e88573e","status":"passed","time":{"start":1765161293633,"stop":1765161540699,"duration":247066}},{"uid":"1c7695a1cba27541","reportUrl":"../25//#testresult/1c7695a1cba27541","status":"passed","time":{"start":1765073140523,"stop":1765073403826,"duration":263303}},{"uid":"fffff3e3f8dd8760","reportUrl":"../24//#testresult/fffff3e3f8dd8760","status":"passed","time":{"start":1764986618345,"stop":1764986885637,"duration":267292}},{"uid":"40a28e46e62acd83","reportUrl":"../3498//#testresult/40a28e46e62acd83","status":"passed","time":{"start":1764619031536,"stop":1764619301467,"duration":269931}}]},"tags":["abort_on_fail"]},"source":"a53412130963da18.json","parameterValues":[]}