{"uid":"abcbb70e421de628","name":"test_cluster_failover_after_majority_loss","fullName":"tests.integration.integration.high_availability.test_primary_switchover#test_cluster_failover_after_majority_loss","historyId":"d5f0ac37b017e0503da9aa6d9054b576","time":{"start":1766886342266,"stop":1766886619035,"duration":276769},"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","descriptionHtml":"<p>Test the promote-to-primary command after losing the majority of nodes, with force flag.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1766886115866,"stop":1766886115866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1766886115866,"stop":1766886115866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1766886115866,"stop":1766886116151,"duration":285},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1766886116152,"stop":1766886116152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1766886116152,"stop":1766886116357,"duration":205},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1766886116358,"stop":1766886321930,"duration":205572},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1766886342266,"stop":1766886342266,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","status":"passed","steps":[],"attachments":[{"uid":"4f983c28030f4feb","name":"log","source":"4f983c28030f4feb.txt","type":"text/plain","size":13214}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1766886619036,"stop":1766886619036,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1766886619036,"stop":1766886619037,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1766886619038,"stop":1766886619743,"duration":705},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1766886619743,"stop":1766886619744,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1766886619744,"stop":1766886619744,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1766886619744,"stop":1766886619744,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1766886619744,"stop":1766886620176,"duration":432},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration.integration.high_availability"},{"name":"suite","value":"test_primary_switchover"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"19549-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integration.high_availability.test_primary_switchover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5d9c78fbfd42bcaa","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":17,"unknown":0,"total":21},"items":[{"uid":"95cdf6f0aeee731f","reportUrl":"../45//#testresult/95cdf6f0aeee731f","status":"passed","time":{"start":1766800081231,"stop":1766800327171,"duration":245940}},{"uid":"7b38afe3803dbd92","reportUrl":"../44//#testresult/7b38afe3803dbd92","status":"passed","time":{"start":1766713690117,"stop":1766713962681,"duration":272564}},{"uid":"c19c25b6e1dd5a8b","reportUrl":"../43//#testresult/c19c25b6e1dd5a8b","status":"passed","time":{"start":1766627435123,"stop":1766627724868,"duration":289745}},{"uid":"63ef2c6d6691a365","reportUrl":"../42//#testresult/63ef2c6d6691a365","status":"passed","time":{"start":1766540808491,"stop":1766541059623,"duration":251132}},{"uid":"8d2093db18e4bdeb","reportUrl":"../41//#testresult/8d2093db18e4bdeb","status":"passed","time":{"start":1766454337592,"stop":1766454573707,"duration":236115}},{"uid":"69adcdade931fa12","reportUrl":"../40//#testresult/69adcdade931fa12","status":"passed","time":{"start":1766368054076,"stop":1766368307021,"duration":252945}},{"uid":"a53412130963da18","reportUrl":"../39//#testresult/a53412130963da18","status":"passed","time":{"start":1766281825782,"stop":1766282078615,"duration":252833}},{"uid":"f1d9c68ac97beeb6","reportUrl":"../38//#testresult/f1d9c68ac97beeb6","status":"passed","time":{"start":1766195293512,"stop":1766195558837,"duration":265325}},{"uid":"8d71511c5e1d0a38","reportUrl":"../37//#testresult/8d71511c5e1d0a38","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1766110184900,"stop":1766110293153,"duration":108253}},{"uid":"c4f5ea9099ad0edb","reportUrl":"../36//#testresult/c4f5ea9099ad0edb","status":"passed","time":{"start":1766022981409,"stop":1766023241857,"duration":260448}},{"uid":"f13f4025d050655a","reportUrl":"../35//#testresult/f13f4025d050655a","status":"passed","time":{"start":1765936626417,"stop":1765936934980,"duration":308563}},{"uid":"1f6f964e71745649","reportUrl":"../34//#testresult/1f6f964e71745649","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1765850489234,"stop":1765850590200,"duration":100966}},{"uid":"53f2ced5c3e05f10","reportUrl":"../33//#testresult/53f2ced5c3e05f10","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1765785552634,"stop":1765785683004,"duration":130370}},{"uid":"f352399c64b9bbd9","reportUrl":"../31//#testresult/f352399c64b9bbd9","status":"passed","time":{"start":1765590665569,"stop":1765590984748,"duration":319179}},{"uid":"b569ef8a5451c47b","reportUrl":"../30//#testresult/b569ef8a5451c47b","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1765504155047,"stop":1765504259724,"duration":104677}},{"uid":"edeead40e26eb04a","reportUrl":"../29//#testresult/edeead40e26eb04a","status":"passed","time":{"start":1765419237687,"stop":1765419481792,"duration":244105}},{"uid":"d5dc3efb6e88573e","reportUrl":"../26//#testresult/d5dc3efb6e88573e","status":"passed","time":{"start":1765161293633,"stop":1765161540699,"duration":247066}},{"uid":"1c7695a1cba27541","reportUrl":"../25//#testresult/1c7695a1cba27541","status":"passed","time":{"start":1765073140523,"stop":1765073403826,"duration":263303}},{"uid":"fffff3e3f8dd8760","reportUrl":"../24//#testresult/fffff3e3f8dd8760","status":"passed","time":{"start":1764986618345,"stop":1764986885637,"duration":267292}},{"uid":"40a28e46e62acd83","reportUrl":"../3498//#testresult/40a28e46e62acd83","status":"passed","time":{"start":1764619031536,"stop":1764619301467,"duration":269931}}]},"tags":["abort_on_fail"]},"source":"abcbb70e421de628.json","parameterValues":[]}