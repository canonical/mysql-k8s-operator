{"uid":"f352399c64b9bbd9","name":"test_cluster_failover_after_majority_loss","fullName":"tests.integration.integration.high_availability.test_primary_switchover#test_cluster_failover_after_majority_loss","historyId":"d5f0ac37b017e0503da9aa6d9054b576","time":{"start":1765590665569,"stop":1765590984748,"duration":319179},"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","descriptionHtml":"<p>Test the promote-to-primary command after losing the majority of nodes, with force flag.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"charm","time":{"start":1765590444992,"stop":1765590444993,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1765590444993,"stop":1765590444993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1765590444993,"stop":1765590445285,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1765590445285,"stop":1765590445285,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1765590445285,"stop":1765590445490,"duration":205},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1765590445490,"stop":1765590633337,"duration":187847},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1765590665569,"stop":1765590665569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","status":"passed","steps":[],"attachments":[{"uid":"4016079b24135771","name":"log","source":"4016079b24135771.txt","type":"text/plain","size":4487}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"highly_available_cluster::finalizer","time":{"start":1765590984749,"stop":1765590984750,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1765590984749,"stop":1765590984749,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1765590984750,"stop":1765590985260,"duration":510},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1765590985260,"stop":1765590985261,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1765590985261,"stop":1765590985261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1765590985261,"stop":1765590985261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1765590985262,"stop":1765590985534,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration.integration.high_availability"},{"name":"suite","value":"test_primary_switchover"},{"name":"host","value":"runnervm6qbrg"},{"name":"thread","value":"18902-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integration.high_availability.test_primary_switchover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5e6a11ecdba1fe41","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":6,"unknown":0,"total":7},"items":[{"uid":"b569ef8a5451c47b","reportUrl":"../30//#testresult/b569ef8a5451c47b","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1765504155047,"stop":1765504259724,"duration":104677}},{"uid":"edeead40e26eb04a","reportUrl":"../29//#testresult/edeead40e26eb04a","status":"passed","time":{"start":1765419237687,"stop":1765419481792,"duration":244105}},{"uid":"d5dc3efb6e88573e","reportUrl":"../26//#testresult/d5dc3efb6e88573e","status":"passed","time":{"start":1765161293633,"stop":1765161540699,"duration":247066}},{"uid":"1c7695a1cba27541","reportUrl":"../25//#testresult/1c7695a1cba27541","status":"passed","time":{"start":1765073140523,"stop":1765073403826,"duration":263303}},{"uid":"fffff3e3f8dd8760","reportUrl":"../24//#testresult/fffff3e3f8dd8760","status":"passed","time":{"start":1764986618345,"stop":1764986885637,"duration":267292}},{"uid":"40a28e46e62acd83","reportUrl":"../3498//#testresult/40a28e46e62acd83","status":"passed","time":{"start":1764619031536,"stop":1764619301467,"duration":269931}}]},"tags":["abort_on_fail"]},"source":"f352399c64b9bbd9.json","parameterValues":[]}