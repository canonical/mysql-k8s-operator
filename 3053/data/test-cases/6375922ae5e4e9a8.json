{"uid":"6375922ae5e4e9a8","name":"test_graceful_crash_of_primary","fullName":"tests.integration.high_availability.test_self_healing_stop_primary#test_graceful_crash_of_primary","historyId":"4fb7e1b218f25777bfb277d1e637c673","time":{"start":1752024776989,"stop":1752024879616,"duration":102627},"description":"Test to send SIGTERM to primary instance and then verify recovery.","descriptionHtml":"<p>Test to send SIGTERM to primary instance and then verify recovery.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1752024569687,"stop":1752024569687,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1752024569688,"stop":1752024569688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1752024569688,"stop":1752024569688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1752024569688,"stop":1752024569896,"duration":208},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1752024569896,"stop":1752024772918,"duration":203022},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1752024772918,"stop":1752024772918,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1752024772919,"stop":1752024774961,"duration":2042},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"credentials","time":{"start":1752024774961,"stop":1752024776988,"duration":2027},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to send SIGTERM to primary instance and then verify recovery.","status":"passed","steps":[],"attachments":[{"uid":"5be06ca167e6a15f","name":"log","source":"5be06ca167e6a15f.txt","type":"text/plain","size":8355}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"credentials::finalizer","time":{"start":1752024879617,"stop":1752024879617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1752024879618,"stop":1752024880661,"duration":1043},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1752024880662,"stop":1752024880662,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1752024880662,"stop":1752024880662,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1752024880662,"stop":1752024880970,"duration":308},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1752024880971,"stop":1752024880971,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1752024880971,"stop":1752024880971,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1752024880971,"stop":1752024880971,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_self_healing_stop_primary"},{"name":"host","value":"pkrvmfkh1xnbeme"},{"name":"thread","value":"18075-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_self_healing_stop_primary"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8841b53427e150b3","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":118,"unknown":8,"total":130},"items":[{"uid":"f5e81e240fc07e8f","reportUrl":"../3049//#testresult/f5e81e240fc07e8f","status":"passed","time":{"start":1751938316966,"stop":1751938395285,"duration":78319}},{"uid":"f16a58d1bc327dc4","reportUrl":"../3048//#testresult/f16a58d1bc327dc4","status":"passed","time":{"start":1751851957548,"stop":1751852055785,"duration":98237}},{"uid":"f6cc1a14a3c8c06a","reportUrl":"../3047//#testresult/f6cc1a14a3c8c06a","status":"passed","time":{"start":1751765621944,"stop":1751765712102,"duration":90158}},{"uid":"1fa62333eac03430","reportUrl":"../3046//#testresult/1fa62333eac03430","status":"passed","time":{"start":1751679141558,"stop":1751679247915,"duration":106357}},{"uid":"66a8b9d8f7042b96","reportUrl":"../3044//#testresult/66a8b9d8f7042b96","status":"passed","time":{"start":1751592686550,"stop":1751592756568,"duration":70018}},{"uid":"1c11c0e8884ad283","reportUrl":"../3041//#testresult/1c11c0e8884ad283","status":"passed","time":{"start":1751506352124,"stop":1751506430202,"duration":78078}},{"uid":"2231bcd504633a2e","reportUrl":"../3037//#testresult/2231bcd504633a2e","status":"passed","time":{"start":1751419960981,"stop":1751420039090,"duration":78109}},{"uid":"87d228b62261b09","reportUrl":"../3030//#testresult/87d228b62261b09","status":"unknown","time":{}},{"uid":"6145a2338afdf0de","reportUrl":"../3027//#testresult/6145a2338afdf0de","status":"unknown","time":{}},{"uid":"44f5495f78ed134d","reportUrl":"../3026//#testresult/44f5495f78ed134d","status":"unknown","time":{}},{"uid":"3f3b5696014e68d1","reportUrl":"../3025//#testresult/3f3b5696014e68d1","status":"unknown","time":{}},{"uid":"422efe05ae19ceab","reportUrl":"../3024//#testresult/422efe05ae19ceab","status":"unknown","time":{}},{"uid":"2b0d1c5ed5290aa8","reportUrl":"../3022//#testresult/2b0d1c5ed5290aa8","status":"unknown","time":{}},{"uid":"14fd3d644a63bb4b","reportUrl":"../3021//#testresult/14fd3d644a63bb4b","status":"unknown","time":{}},{"uid":"c244ad86722897d2","reportUrl":"../3019//#testresult/c244ad86722897d2","status":"passed","time":{"start":1750728719688,"stop":1750728798859,"duration":79171}},{"uid":"b5079b492be0b687","reportUrl":"../3015//#testresult/b5079b492be0b687","status":"passed","time":{"start":1750642401397,"stop":1750642479516,"duration":78119}},{"uid":"462a5df7a260938f","reportUrl":"../3014//#testresult/462a5df7a260938f","status":"passed","time":{"start":1750555910622,"stop":1750555988598,"duration":77976}},{"uid":"b2776b671f0db700","reportUrl":"../3013//#testresult/b2776b671f0db700","status":"passed","time":{"start":1750469484995,"stop":1750469595386,"duration":110391}},{"uid":"7cac06e98b8b4f0a","reportUrl":"../3010//#testresult/7cac06e98b8b4f0a","status":"passed","time":{"start":1750383102903,"stop":1750383171748,"duration":68845}},{"uid":"5a9fb99c108c39a","reportUrl":"../3009//#testresult/5a9fb99c108c39a","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\nmysql-k8s/0 [idle] error: unknown container reason \"ImagePullBackOff\": Back-off pulling image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": ErrImagePull: rpc error: code = FailedPrecondition desc = failed to pull and unpack image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": failed commit on ref \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\": \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\" failed size validation: 288806 != 3117: failed precondition\n  mysql-k8s/1 [idle] error: unknown container reason \"ImagePullBackOff\": Back-off pulling image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": ErrImagePull: rpc error: code = FailedPrecondition desc = failed to pull and unpack image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": failed commit on ref \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\": \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\" failed size validation: 288806 != 3117: failed precondition\n  mysql-k8s/2 [idle] error: unknown container reason \"ImagePullBackOff\": Back-off pulling image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": ErrImagePull: rpc error: code = FailedPrecondition desc = failed to pull and unpack image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": failed commit on ref \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\": \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\" failed size validation: 288806 != 3117: failed precondition","time":{"start":1750296512803,"stop":1750296512803,"duration":0}}]},"tags":["asyncio"]},"source":"6375922ae5e4e9a8.json","parameterValues":[]}