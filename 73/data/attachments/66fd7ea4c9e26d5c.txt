[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:327 Deploying a new mysql cluster
[32mINFO    [0m jubilant:_juju.py:316 cli: juju deploy --model testing ./mysql-k8s_ubuntu@22.04-amd64.charm another-mysql-k8s --base ubuntu@22.04 --config cluster-name=test_cluster --config profile=testing --resource mysql-image=ghcr.io/canonical/charmed-mysql@sha256:672f20830d66678a3ece7285048700d6e52a9393202eb51e9749eb35031559c4 --trust
[32mINFO    [0m jubilant:_juju.py:316 cli: juju integrate --model testing another-mysql-k8s s3-integrator
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:356 Rotating all mysql credentials
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-cluster-status --wait 300s --params /root/snap/juju/common/tmpm0xhtz_j
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 set-password --params /root/snap/juju/common/tmpnaulmtly
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 set-password --params /root/snap/juju/common/tmpmq0bq3kv
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 set-password --params /root/snap/juju/common/tmp7dnaya9u
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-password --params /root/snap/juju/common/tmp3tth9nbo
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:372 Syncing credentials
[32mINFO    [0m jubilant:_juju.py:316 cli: juju config --model testing s3-integrator endpoint=https://s3.amazonaws.com bucket=data-charms-testing path=mysql-k8s/d0915a79-0a2d-4f9f-99f3-21dae6bd3c43 region=us-east-1
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json s3-integrator/0 sync-s3-credentials --params /root/snap/juju/common/tmpgshcrx11
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:389 Waiting for blocked application status with another cluster S3 repository
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:397 Restoring backup_id='2026-01-24T02:21:04Z'
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 restore --params /root/snap/juju/common/tmpw_hp21vv
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:402 Ensuring that the pre-backup inserted value exists in database, while post-backup inserted value does not
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:416 Inserting value after restore
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-cluster-status --wait 300s --params /root/snap/juju/common/tmpqjwt12xx
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-password --params /root/snap/juju/common/tmp3z0fpk9n
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-password --params /root/snap/juju/common/tmpnzp12ed_
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:431 Ensuring that pre-backup and post-restore values exist in the database
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:442 Scaling mysql application to 3 units
[32mINFO    [0m jubilant:_juju.py:316 cli: juju add-unit --model testing another-mysql-k8s --num-units 2
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:455 Ensuring inserted values before backup and after restore exist on all units
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:468 Waiting for blocked application status after restore
[32mINFO    [0m jubilant:_juju.py:316 cli: juju debug-log --model testing --limit 1000
[32mINFO    [0m integration.integration.test_backup_aws:test_backup_aws.py:64 Cleaning backups from buckets