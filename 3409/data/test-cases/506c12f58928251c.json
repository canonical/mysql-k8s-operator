{"uid":"506c12f58928251c","name":"test_scale_out","fullName":"tests.integration.test_multi_relations#test_scale_out","historyId":"a6ad709962481d68f3c7e0995010494f","time":{"start":1761875252582,"stop":1761877053045,"duration":1800463},"description":"Scale database and routers.","descriptionHtml":"<p>Scale database and routers.</p>\n","status":"broken","statusMessage":"TimeoutError","statusTrace":"Traceback (most recent call last):\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 136, in _block\n    await asyncio.sleep(wait_period)\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 665, in sleep\n    return await future\n           ^^^^^^^^^^^^\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_multi_relations.py\", line 74, in test_scale_out\n    await ops_test.model.block_until(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 1153, in block_until\n    await utils.block_until(done, timeout=timeout, wait_period=wait_period)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 138, in block_until\n    await asyncio.shield(asyncio.wait_for(_block(), timeout))\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 519, in wait_for\n    async with timeouts.timeout(timeout):\n  File \"/usr/lib/python3.12/asyncio/timeouts.py\", line 115, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1761875007265,"stop":1761875007266,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1761875007266,"stop":1761875007266,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1761875007266,"stop":1761875007534,"duration":268},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1761875252581,"stop":1761875252581,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1761877053109,"stop":1761877053109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1761877053115,"stop":1761877053886,"duration":771},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1761877053887,"stop":1761877053887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1761877053887,"stop":1761877053887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1761877053887,"stop":1761877053887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_multi_relations"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"18685-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_multi_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4a364c33adfaac81","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":1,"broken":10,"skipped":5,"passed":356,"unknown":15,"total":387},"items":[{"uid":"91bf78aae8f7bcf2","reportUrl":"../3404//#testresult/91bf78aae8f7bcf2","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1761830056121,"stop":1761830056121,"duration":0}},{"uid":"4c41f6323bbe5185","reportUrl":"../3393//#testresult/4c41f6323bbe5185","status":"passed","time":{"start":1761702565730,"stop":1761703421694,"duration":855964}},{"uid":"3245e11959dbac63","reportUrl":"../3382//#testresult/3245e11959dbac63","status":"passed","time":{"start":1761616483491,"stop":1761617264170,"duration":780679}},{"uid":"890b5da68adf8154","reportUrl":"../3374//#testresult/890b5da68adf8154","status":"passed","time":{"start":1761530990900,"stop":1761531877042,"duration":886142}},{"uid":"124402c763c2dab6","reportUrl":"../3373//#testresult/124402c763c2dab6","status":"passed","time":{"start":1761443879481,"stop":1761444680617,"duration":801136}},{"uid":"affa6a2519bfa3a9","reportUrl":"../3372//#testresult/affa6a2519bfa3a9","status":"passed","time":{"start":1761357103235,"stop":1761357863828,"duration":760593}},{"uid":"295b6568e59da56b","reportUrl":"../3364//#testresult/295b6568e59da56b","status":"passed","time":{"start":1761271063278,"stop":1761271959006,"duration":895728}},{"uid":"7d1932f8a809b4be","reportUrl":"../3358//#testresult/7d1932f8a809b4be","status":"passed","time":{"start":1761184024554,"stop":1761184750769,"duration":726215}},{"uid":"cbc7c33dd22a717f","reportUrl":"../3355//#testresult/cbc7c33dd22a717f","status":"passed","time":{"start":1761104060047,"stop":1761104965921,"duration":905874}},{"uid":"fb4eb07d33c476aa","reportUrl":"../3351//#testresult/fb4eb07d33c476aa","status":"passed","time":{"start":1761012037958,"stop":1761012938949,"duration":900991}},{"uid":"72194c66f7ccfae3","reportUrl":"../3344//#testresult/72194c66f7ccfae3","status":"passed","time":{"start":1760925995340,"stop":1760926736086,"duration":740746}},{"uid":"21fc4a41854cb649","reportUrl":"../3343//#testresult/21fc4a41854cb649","status":"passed","time":{"start":1760838799263,"stop":1760839560037,"duration":760774}},{"uid":"e96fbedeeaf537ba","reportUrl":"../3342//#testresult/e96fbedeeaf537ba","status":"passed","time":{"start":1760777311762,"stop":1760778148030,"duration":836268}},{"uid":"db55957a5760bf47","reportUrl":"../3338//#testresult/db55957a5760bf47","status":"passed","time":{"start":1760684553181,"stop":1760685429345,"duration":876164}},{"uid":"d60149837797ad3d","reportUrl":"../3336//#testresult/d60149837797ad3d","status":"passed","time":{"start":1760580208918,"stop":1760581209975,"duration":1001057}},{"uid":"ec5223fcc6d3ba51","reportUrl":"../3334//#testresult/ec5223fcc6d3ba51","status":"passed","time":{"start":1760493387871,"stop":1760494239275,"duration":851404}},{"uid":"166254edec3385b7","reportUrl":"../3327//#testresult/166254edec3385b7","status":"passed","time":{"start":1760407474578,"stop":1760408245315,"duration":770737}},{"uid":"b29102a4ea367bf9","reportUrl":"../3326//#testresult/b29102a4ea367bf9","status":"passed","time":{"start":1760321032608,"stop":1760321843683,"duration":811075}},{"uid":"56d9018848000924","reportUrl":"../3325//#testresult/56d9018848000924","status":"passed","time":{"start":1760236769014,"stop":1760237649795,"duration":880781}},{"uid":"24e787f156bc5085","reportUrl":"../3324//#testresult/24e787f156bc5085","status":"passed","time":{"start":1760147371370,"stop":1760148292713,"duration":921343}}]},"tags":["asyncio","abort_on_fail"]},"source":"506c12f58928251c.json","parameterValues":[]}