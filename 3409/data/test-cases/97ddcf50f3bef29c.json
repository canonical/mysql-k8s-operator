{"uid":"97ddcf50f3bef29c","name":"test_create_replication","fullName":"tests.integration.high_availability.test_async_replication_upgrade#test_create_replication","historyId":"4938099924898716de3728294c15aae9","time":{"start":1761876451017,"stop":1761876755110,"duration":304093},"description":"Run the create-replication action and wait for the applications to settle.","descriptionHtml":"<p>Run the create-replication action and wait for the applications to settle.</p>\n","status":"broken","statusMessage":"TimeoutError: timed out waiting for action, stderr:\nRunning operation 1 with 1 task\n  - task 2 on unit-db1-2\n\nWaiting for task 2...\nERROR timed out waiting for results from: unit db1/2","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/high_availability/test_async_replication_upgrade.py\", line 182, in test_create_replication\n    task = model_1.run(\n           ^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/jubilant_backports/_juju.py\", line 1012, in run\n    raise TimeoutError(msg) from None\nTimeoutError: timed out waiting for action, stderr:\nRunning operation 1 with 1 task\n  - task 2 on unit-db1-2\n\nWaiting for task 2...\nERROR timed out waiting for results from: unit db1/2","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1761874924530,"stop":1761874924823,"duration":293},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1761874924823,"stop":1761874925082,"duration":259},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1761874924823,"stop":1761874924823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1761876451017,"stop":1761876451017,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Run the create-replication action and wait for the applications to settle.","status":"broken","statusMessage":"TimeoutError: timed out waiting for action, stderr:\nRunning operation 1 with 1 task\n  - task 2 on unit-db1-2\n\nWaiting for task 2...\nERROR timed out waiting for results from: unit db1/2","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/high_availability/test_async_replication_upgrade.py\", line 182, in test_create_replication\n    task = model_1.run(\n           ^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/jubilant_backports/_juju.py\", line 1012, in run\n    raise TimeoutError(msg) from None\nTimeoutError: timed out waiting for action, stderr:\nRunning operation 1 with 1 task\n  - task 2 on unit-db1-2\n\nWaiting for task 2...\nERROR timed out waiting for results from: unit db1/2","steps":[],"attachments":[{"uid":"485554f5730ff343","name":"log","source":"485554f5730ff343.txt","type":"text/plain","size":446}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1761876755112,"stop":1761876755112,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::0","time":{"start":1761876894544,"stop":1761876999868,"duration":105324},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model::0","time":{"start":1761876999868,"stop":1761876999868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1761876999869,"stop":1761877000186,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3+')"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_async_replication_upgrade"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"18463-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_async_replication_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"123b4057752c9ea5","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":33,"unknown":0,"total":36},"items":[{"uid":"4d510068ee3498aa","reportUrl":"../3404//#testresult/4d510068ee3498aa","status":"passed","time":{"start":1761828763353,"stop":1761828981620,"duration":218267}},{"uid":"8ae1d904c6f1a96d","reportUrl":"../3393//#testresult/8ae1d904c6f1a96d","status":"passed","time":{"start":1761702699268,"stop":1761702882950,"duration":183682}},{"uid":"5d592bf3c9197999","reportUrl":"../3382//#testresult/5d592bf3c9197999","status":"passed","time":{"start":1761616437458,"stop":1761616592052,"duration":154594}},{"uid":"6d808143a1c91404","reportUrl":"../3374//#testresult/6d808143a1c91404","status":"passed","time":{"start":1761530957779,"stop":1761531191764,"duration":233985}},{"uid":"22cbc7747825ae99","reportUrl":"../3373//#testresult/22cbc7747825ae99","status":"passed","time":{"start":1761443872514,"stop":1761444099510,"duration":226996}},{"uid":"871b626cbfb1be32","reportUrl":"../3372//#testresult/871b626cbfb1be32","status":"passed","time":{"start":1761357207976,"stop":1761357394987,"duration":187011}},{"uid":"15322548f16122e3","reportUrl":"../3364//#testresult/15322548f16122e3","status":"passed","time":{"start":1761271001464,"stop":1761271136036,"duration":134572}},{"uid":"9bc4c1feab61ff32","reportUrl":"../3358//#testresult/9bc4c1feab61ff32","status":"passed","time":{"start":1761184054784,"stop":1761184199568,"duration":144784}},{"uid":"f801d430515737ba","reportUrl":"../3355//#testresult/f801d430515737ba","status":"passed","time":{"start":1761104050823,"stop":1761104209612,"duration":158789}},{"uid":"ab981ae608ecc0ff","reportUrl":"../3351//#testresult/ab981ae608ecc0ff","status":"passed","time":{"start":1761011844996,"stop":1761012048182,"duration":203186}},{"uid":"5e455fde6d5af4ff","reportUrl":"../3344//#testresult/5e455fde6d5af4ff","status":"passed","time":{"start":1760926116722,"stop":1760926265446,"duration":148724}},{"uid":"4ae2aaef792de9","reportUrl":"../3343//#testresult/4ae2aaef792de9","status":"passed","time":{"start":1760838225883,"stop":1760838473407,"duration":247524}},{"uid":"13eef4eeb4ab3915","reportUrl":"../3342//#testresult/13eef4eeb4ab3915","status":"passed","time":{"start":1760777334625,"stop":1760777480225,"duration":145600}},{"uid":"c0809f92d43d4043","reportUrl":"../3338//#testresult/c0809f92d43d4043","status":"passed","time":{"start":1760684552451,"stop":1760684786715,"duration":234264}},{"uid":"ab6d2009552cc45f","reportUrl":"../3336//#testresult/ab6d2009552cc45f","status":"passed","time":{"start":1760580175939,"stop":1760580321186,"duration":145247}},{"uid":"57ff9dbe44d62bed","reportUrl":"../3334//#testresult/57ff9dbe44d62bed","status":"passed","time":{"start":1760493095618,"stop":1760493248027,"duration":152409}},{"uid":"c47e63f14bcf803f","reportUrl":"../3327//#testresult/c47e63f14bcf803f","status":"passed","time":{"start":1760407392766,"stop":1760407585670,"duration":192904}},{"uid":"5487995759836687","reportUrl":"../3326//#testresult/5487995759836687","status":"passed","time":{"start":1760320989300,"stop":1760321178247,"duration":188947}},{"uid":"4e6a8383242c4b12","reportUrl":"../3325//#testresult/4e6a8383242c4b12","status":"passed","time":{"start":1760236796736,"stop":1760237023640,"duration":226904}},{"uid":"822ff7af7a465cdf","reportUrl":"../3324//#testresult/822ff7af7a465cdf","status":"passed","time":{"start":1760147064458,"stop":1760147259064,"duration":194606}}]},"tags":["abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3+')"]},"source":"97ddcf50f3bef29c.json","parameterValues":[]}