{"uid":"501f1a0a4f1b11be","name":"test_no_replication_across_clusters","fullName":"tests.integration.high_availability.test_replication#test_no_replication_across_clusters","historyId":"8febd5bb24374b092e2d17affcf9a665","time":{"start":1725672802527,"stop":1725672896677,"duration":94150},"description":"Test to ensure that writes to one cluster do not replicate to another cluster.","descriptionHtml":"<p>Test to ensure that writes to one cluster do not replicate to another cluster.</p>\n","status":"failed","statusMessage":"AssertionError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 182, in pytest_runtest_teardown\n    item.session._setupstate.teardown_exact(nextitem)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 537, in teardown_exact\n    raise exceptions[0]\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 526, in teardown_exact\n    fin()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 701, in <lambda>\n    subrequest.node.addfinalizer(lambda: fixturedef.finish(request=subrequest))\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1031, in finish\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1024, in finish\n    func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 37, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\nAssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1725672598556,"stop":1725672598556,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1725672598557,"stop":1725672598557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1725672598557,"stop":1725672598823,"duration":266},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1725672598823,"stop":1725672798450,"duration":199627},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1725672798451,"stop":1725672800494,"duration":2043},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1725672798451,"stop":1725672798451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"credentials","time":{"start":1725672800494,"stop":1725672802526,"duration":2032},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to ensure that writes to one cluster do not replicate to another cluster.","status":"failed","statusMessage":"AssertionError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 182, in pytest_runtest_teardown\n    item.session._setupstate.teardown_exact(nextitem)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 537, in teardown_exact\n    raise exceptions[0]\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 526, in teardown_exact\n    fin()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 701, in <lambda>\n    subrequest.node.addfinalizer(lambda: fixturedef.finish(request=subrequest))\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1031, in finish\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1024, in finish\n    func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 37, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\nAssertionError","steps":[],"attachments":[{"uid":"9890206f55892550","name":"log","source":"9890206f55892550.txt","type":"text/plain","size":6943}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"credentials::finalizer","time":{"start":1725672896677,"stop":1725672896678,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1725672896678,"stop":1725672902733,"duration":6055},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 37, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1725672902734,"stop":1725672902734,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1725672902734,"stop":1725672902734,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1725672902734,"stop":1725672903212,"duration":478},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1725672903213,"stop":1725672903213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1725672903213,"stop":1725672903213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1725672903213,"stop":1725672903213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(2)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_replication"},{"name":"host","value":"fv-az569-429"},{"name":"thread","value":"13116-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3d964c0e80478abc","status":"unknown","time":{}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":12,"broken":0,"skipped":12,"passed":185,"unknown":0,"total":209},"items":[{"uid":"196197dbd932836b","reportUrl":"../2261//#testresult/196197dbd932836b","status":"failed","statusDetails":"AssertionError","time":{"start":1725586438687,"stop":1725586538986,"duration":100299}},{"uid":"3f520554276d3394","reportUrl":"../2252//#testresult/3f520554276d3394","status":"failed","statusDetails":"AssertionError","time":{"start":1725500031896,"stop":1725500128743,"duration":96847}},{"uid":"d4978d1151b7bddd","reportUrl":"../2250//#testresult/d4978d1151b7bddd","status":"passed","time":{"start":1725413605704,"stop":1725413699880,"duration":94176}},{"uid":"cf522ad5e91a40d7","reportUrl":"../2247//#testresult/cf522ad5e91a40d7","status":"passed","time":{"start":1725327202848,"stop":1725327293943,"duration":91095}},{"uid":"1583cfbbe2e10ef4","reportUrl":"../2244//#testresult/1583cfbbe2e10ef4","status":"passed","time":{"start":1725240802525,"stop":1725240898234,"duration":95709}},{"uid":"a292b18962d6ce20","reportUrl":"../2243//#testresult/a292b18962d6ce20","status":"passed","time":{"start":1725154582312,"stop":1725154673550,"duration":91238}},{"uid":"4be751c1431e40ec","reportUrl":"../2242//#testresult/4be751c1431e40ec","status":"passed","time":{"start":1725068027547,"stop":1725068128017,"duration":100470}},{"uid":"9740780657f46f17","reportUrl":"../2234//#testresult/9740780657f46f17","status":"failed","statusDetails":"AssertionError","time":{"start":1724981662162,"stop":1724981755057,"duration":92895}},{"uid":"8ac14b0a2b5012ea","reportUrl":"../2230//#testresult/8ac14b0a2b5012ea","status":"failed","statusDetails":"AssertionError","time":{"start":1724895217417,"stop":1724895328814,"duration":111397}},{"uid":"2a067c8c9cd81496","reportUrl":"../2229//#testresult/2a067c8c9cd81496","status":"passed","time":{"start":1724808802288,"stop":1724808898407,"duration":96119}},{"uid":"6a45bc6524d180a0","reportUrl":"../2228//#testresult/6a45bc6524d180a0","status":"passed","time":{"start":1724722431821,"stop":1724722531762,"duration":99941}},{"uid":"4432e80183efa6ae","reportUrl":"../2221//#testresult/4432e80183efa6ae","status":"passed","time":{"start":1724549600377,"stop":1724549697363,"duration":96986}},{"uid":"413b69d8085d90eb","reportUrl":"../2213//#testresult/413b69d8085d90eb","status":"passed","time":{"start":1724376800877,"stop":1724376901814,"duration":100937}},{"uid":"5fe1c37d2d09c1f2","reportUrl":"../2205//#testresult/5fe1c37d2d09c1f2","status":"passed","time":{"start":1724290408591,"stop":1724290506655,"duration":98064}},{"uid":"8b2106aa6555e405","reportUrl":"../2198//#testresult/8b2106aa6555e405","status":"passed","time":{"start":1724204060628,"stop":1724204159195,"duration":98567}},{"uid":"fa8f6aeb74f5467e","reportUrl":"../2194//#testresult/fa8f6aeb74f5467e","status":"passed","time":{"start":1724117664307,"stop":1724117763055,"duration":98748}},{"uid":"156ab4484c850189","reportUrl":"../2191//#testresult/156ab4484c850189","status":"passed","time":{"start":1724031181409,"stop":1724031274582,"duration":93173}},{"uid":"7e120d077f8cffa9","reportUrl":"../2190//#testresult/7e120d077f8cffa9","status":"failed","statusDetails":"AssertionError","time":{"start":1723944875234,"stop":1723944993425,"duration":118191}},{"uid":"6d839f55b1469a88","reportUrl":"../2189//#testresult/6d839f55b1469a88","status":"passed","time":{"start":1723858403692,"stop":1723858506701,"duration":103009}},{"uid":"1a127087df9361e6","reportUrl":"../2186//#testresult/1a127087df9361e6","status":"passed","time":{"start":1723772003389,"stop":1723772098740,"duration":95351}}]},"tags":["asyncio","abort_on_fail","group(2)"]},"source":"501f1a0a4f1b11be.json","parameterValues":[]}