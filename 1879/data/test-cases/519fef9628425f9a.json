{"uid":"519fef9628425f9a","name":"test_check_consistency","fullName":"tests.integration.high_availability.test_replication#test_check_consistency","historyId":"3a16b79cb300ff9023638b4ddac61e4b","time":{"start":1715650143760,"stop":1715650143760,"duration":0},"description":"Test to write to primary, and read the same data back from replicas.","descriptionHtml":"<p>Test to write to primary, and read the same data back from replicas.</p>\n","status":"broken","statusMessage":"KeyError: 'mysql-test-app'","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 157, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 497, in setup\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 494, in setup\n    col.setup()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1795, in setup\n    self._request._fillfixtures()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 566, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 585, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1069, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 304, in _asyncgen_fixture_wrapper\n    result = event_loop.run_until_complete(setup())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 286, in setup\n    res = await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 25, in continuous_writes\n    application_unit = ops_test.model.applications[APPLICATION_DEFAULT_APP_NAME].units[0]\nKeyError: 'mysql-test-app'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1715650130726,"stop":1715650130726,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1715650130727,"stop":1715650130959,"duration":232},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1715650130727,"stop":1715650130727,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1715650143761,"stop":1715650143761,"duration":0},"status":"broken","statusMessage":"KeyError: 'mysql-test-app'\n","statusTrace":"  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 304, in _asyncgen_fixture_wrapper\n    result = event_loop.run_until_complete(setup())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 286, in setup\n    res = await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 25, in continuous_writes\n    application_unit = ops_test.model.applications[APPLICATION_DEFAULT_APP_NAME].units[0]\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1715650143761,"stop":1715650143761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1715650143762,"stop":1715650143762,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1715650143769,"stop":1715650150951,"duration":7182},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1715650150952,"stop":1715650150952,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1715650150952,"stop":1715650150952,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1715650150952,"stop":1715650150953,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_replication"},{"name":"host","value":"fv-az651-805"},{"name":"thread","value":"12484-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":98,"unknown":0,"total":100},"items":[{"uid":"2b9ae66f4b2fcf2c","reportUrl":"../1876//#testresult/2b9ae66f4b2fcf2c","status":"passed","time":{"start":1715563898649,"stop":1715563919493,"duration":20844}},{"uid":"cf1937ca4fb2751e","reportUrl":"../1875//#testresult/cf1937ca4fb2751e","status":"passed","time":{"start":1715477489126,"stop":1715477509967,"duration":20841}},{"uid":"895f02cb077aedb","reportUrl":"../1874//#testresult/895f02cb077aedb","status":"passed","time":{"start":1715391078761,"stop":1715391099598,"duration":20837}},{"uid":"97e6469afe114314","reportUrl":"../1873//#testresult/97e6469afe114314","status":"passed","time":{"start":1715304776125,"stop":1715304798095,"duration":21970}},{"uid":"fef51f0e0aa8a35a","reportUrl":"../1871//#testresult/fef51f0e0aa8a35a","status":"passed","time":{"start":1715218234660,"stop":1715218255500,"duration":20840}},{"uid":"51c59d0a843fed6f","reportUrl":"../1869//#testresult/51c59d0a843fed6f","status":"passed","time":{"start":1715131546709,"stop":1715131567615,"duration":20906}},{"uid":"7de0bb287dc09f3c","reportUrl":"../1867//#testresult/7de0bb287dc09f3c","status":"passed","time":{"start":1715045739647,"stop":1715045760623,"duration":20976}},{"uid":"64d17ade7580b6c7","reportUrl":"../1866//#testresult/64d17ade7580b6c7","status":"passed","time":{"start":1714959113774,"stop":1714959135707,"duration":21933}},{"uid":"ca270c0b3060ff88","reportUrl":"../1865//#testresult/ca270c0b3060ff88","status":"passed","time":{"start":1714872739572,"stop":1714872760411,"duration":20839}},{"uid":"7209c12a6275e77a","reportUrl":"../1864//#testresult/7209c12a6275e77a","status":"passed","time":{"start":1714786248144,"stop":1714786270049,"duration":21905}},{"uid":"b35a272372df0db4","reportUrl":"../1863//#testresult/b35a272372df0db4","status":"passed","time":{"start":1714700242781,"stop":1714700263632,"duration":20851}},{"uid":"782982f03b25d60d","reportUrl":"../1858//#testresult/782982f03b25d60d","status":"passed","time":{"start":1714613456121,"stop":1714613478126,"duration":22005}},{"uid":"3f59ac8ab793487c","reportUrl":"../1854//#testresult/3f59ac8ab793487c","status":"passed","time":{"start":1714527056078,"stop":1714527078137,"duration":22059}},{"uid":"d27460b0148a497d","reportUrl":"../1844//#testresult/d27460b0148a497d","status":"passed","time":{"start":1714440643959,"stop":1714440665913,"duration":21954}},{"uid":"78d884845f5a8683","reportUrl":"../1838//#testresult/78d884845f5a8683","status":"passed","time":{"start":1714354353539,"stop":1714354374370,"duration":20831}},{"uid":"30122dda65a16301","reportUrl":"../1837//#testresult/30122dda65a16301","status":"passed","time":{"start":1714267940185,"stop":1714267961088,"duration":20903}},{"uid":"66d049f474c0d35f","reportUrl":"../1836//#testresult/66d049f474c0d35f","status":"passed","time":{"start":1714181455351,"stop":1714181476195,"duration":20844}},{"uid":"38c9ea6ed4346563","reportUrl":"../1832//#testresult/38c9ea6ed4346563","status":"passed","time":{"start":1714095051771,"stop":1714095074703,"duration":22932}},{"uid":"ec0962c1c695d240","reportUrl":"../1831//#testresult/ec0962c1c695d240","status":"passed","time":{"start":1714008632950,"stop":1714008653838,"duration":20888}},{"uid":"89da2db3ce96e5bc","reportUrl":"../1829//#testresult/89da2db3ce96e5bc","status":"passed","time":{"start":1713922287932,"stop":1713922308808,"duration":20876}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"519fef9628425f9a.json","parameterValues":[]}