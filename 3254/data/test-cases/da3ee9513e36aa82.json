{"uid":"da3ee9513e36aa82","name":"test_scale_out","fullName":"tests.integration.test_multi_relations#test_scale_out","historyId":"a6ad709962481d68f3c7e0995010494f","time":{"start":1758419648137,"stop":1758421449462,"duration":1801325},"description":"Scale database and routers.","descriptionHtml":"<p>Scale database and routers.</p>\n","status":"broken","statusMessage":"TimeoutError","statusTrace":"Traceback (most recent call last):\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 136, in _block\n    await asyncio.sleep(wait_period)\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 665, in sleep\n    return await future\n           ^^^^^^^^^^^^\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_multi_relations.py\", line 74, in test_scale_out\n    await ops_test.model.block_until(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 1153, in block_until\n    await utils.block_until(done, timeout=timeout, wait_period=wait_period)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 138, in block_until\n    await asyncio.shield(asyncio.wait_for(_block(), timeout))\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 519, in wait_for\n    async with timeouts.timeout(timeout):\n  File \"/usr/lib/python3.12/asyncio/timeouts.py\", line 115, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1758419441044,"stop":1758419441044,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1758419441045,"stop":1758419441249,"duration":204},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1758419441045,"stop":1758419441045,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1758419648136,"stop":1758419648136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1758421449535,"stop":1758421449535,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1758421449540,"stop":1758421450263,"duration":723},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1758421450264,"stop":1758421450264,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1758421450264,"stop":1758421450264,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1758421450264,"stop":1758421450265,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_multi_relations"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"19568-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_multi_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e61d48b8a55e4222","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":1,"broken":6,"skipped":4,"passed":321,"unknown":15,"total":347},"items":[{"uid":"4b46938a2f8152b3","reportUrl":"../3253//#testresult/4b46938a2f8152b3","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1758334837497,"stop":1758334837497,"duration":0}},{"uid":"9a84076396e7c09d","reportUrl":"../3252//#testresult/9a84076396e7c09d","status":"passed","time":{"start":1758250576129,"stop":1758251377273,"duration":801144}},{"uid":"cffa455975ca9152","reportUrl":"../3250//#testresult/cffa455975ca9152","status":"passed","time":{"start":1758161833242,"stop":1758162609089,"duration":775847}},{"uid":"26b268e4df7379a2","reportUrl":"../3244//#testresult/26b268e4df7379a2","status":"passed","time":{"start":1758072876972,"stop":1758073853067,"duration":976095}},{"uid":"a5e889eb741d6fcd","reportUrl":"../3240//#testresult/a5e889eb741d6fcd","status":"passed","time":{"start":1757987707073,"stop":1757988547989,"duration":840916}},{"uid":"d47b4101674ab419","reportUrl":"../3239//#testresult/d47b4101674ab419","status":"passed","time":{"start":1757901399907,"stop":1757902320920,"duration":921013}},{"uid":"b0f89d8b5bb8f140","reportUrl":"../3238//#testresult/b0f89d8b5bb8f140","status":"passed","time":{"start":1757815142695,"stop":1757815963923,"duration":821228}},{"uid":"832d05f7321565ce","reportUrl":"../3237//#testresult/832d05f7321565ce","status":"passed","time":{"start":1757728899715,"stop":1757729691214,"duration":791499}},{"uid":"32a9686e15433d49","reportUrl":"../3233//#testresult/32a9686e15433d49","status":"passed","time":{"start":1757641478323,"stop":1757642329558,"duration":851235}},{"uid":"58e0f8998c649768","reportUrl":"../3232//#testresult/58e0f8998c649768","status":"passed","time":{"start":1757555874533,"stop":1757556655481,"duration":780948}},{"uid":"2427ddf0b79884dd","reportUrl":"../3231//#testresult/2427ddf0b79884dd","status":"passed","time":{"start":1757468881158,"stop":1757469702492,"duration":821334}},{"uid":"568c26daad6539b9","reportUrl":"../3225//#testresult/568c26daad6539b9","status":"passed","time":{"start":1757384145975,"stop":1757384981825,"duration":835850}},{"uid":"2e903949f45a7fc3","reportUrl":"../3223//#testresult/2e903949f45a7fc3","status":"unknown","time":{}},{"uid":"17a09491a3891c98","reportUrl":"../3221//#testresult/17a09491a3891c98","status":"passed","time":{"start":1757123801281,"stop":1757124622207,"duration":820926}},{"uid":"452d149431e76555","reportUrl":"../3212//#testresult/452d149431e76555","status":"passed","time":{"start":1756951026456,"stop":1756951832314,"duration":805858}},{"uid":"1cbcad15aab18d2c","reportUrl":"../3206//#testresult/1cbcad15aab18d2c","status":"passed","time":{"start":1756863881955,"stop":1756864692762,"duration":810807}},{"uid":"e1266a489953ef4d","reportUrl":"../3195//#testresult/e1266a489953ef4d","status":"unknown","time":{}},{"uid":"aa915a64999561a1","reportUrl":"../3193//#testresult/aa915a64999561a1","status":"passed","time":{"start":1756690698875,"stop":1756691440130,"duration":741255}},{"uid":"bfe4ba4d3461d0a7","reportUrl":"../3192//#testresult/bfe4ba4d3461d0a7","status":"passed","time":{"start":1756604080720,"stop":1756604786547,"duration":705827}},{"uid":"83fe5fc768974e56","reportUrl":"../3190//#testresult/83fe5fc768974e56","status":"passed","time":{"start":1756519601270,"stop":1756520377365,"duration":776095}}]},"tags":["asyncio","abort_on_fail"]},"source":"da3ee9513e36aa82.json","parameterValues":[]}