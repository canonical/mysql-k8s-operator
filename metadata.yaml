# Copyright 2021 Canonical Ltd.
# See LICENSE file for licensing details.

name: mysql-k8s
description: |
  MySQL RDBMS with InnoDB Cluster support for Kubernetes.
summary: |
  Kubernetes charm for HA MySQL InnoDB Clusters.

containers:
  mysql-server:
    resource: mysql-server-image
    mounts:
      - storage: database
        location: /var/lib/mysql
  mysql-router:
    resource: mysql-router-image

resources:
  mysql-server-image:
    type: oci-image
    description: OCI image for MySQL Server (ubuntu/mysql)
    upstream-source: ubuntu/mysql:8.0-21.04_beta

  mysql-router-image:
    type: oci-image
    description: OCI image for MySQL Router (mysql/mysql-router)
    upstream-source: mysql/mysql-router:8.0.27
storage:
  database:
    type: filesystem
