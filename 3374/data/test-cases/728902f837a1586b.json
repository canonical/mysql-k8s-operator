{"uid":"728902f837a1586b","name":"test_cluster_failover_after_majority_loss","fullName":"tests.integration.high_availability.test_primary_switchover#test_cluster_failover_after_majority_loss","historyId":"bade0bcc44a661c58105aab821721f91","time":{"start":1761530972255,"stop":1761531231675,"duration":259420},"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","descriptionHtml":"<p>Test the promote-to-primary command after losing the majority of nodes, with force flag.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"charm","time":{"start":1761530760512,"stop":1761530760512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1761530760512,"stop":1761530760796,"duration":284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1761530760512,"stop":1761530760512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1761530760797,"stop":1761530761040,"duration":243},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1761530760797,"stop":1761530760797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1761530761040,"stop":1761530958439,"duration":197399},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1761530972254,"stop":1761530972254,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","status":"passed","steps":[],"attachments":[{"uid":"3ad940c0ad083fa","name":"log","source":"3ad940c0ad083fa.txt","type":"text/plain","size":15503}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1761531231675,"stop":1761531231675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1761531231676,"stop":1761531231676,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1761531231677,"stop":1761531232073,"duration":396},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1761531232074,"stop":1761531232074,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1761531232074,"stop":1761531232074,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1761531232074,"stop":1761531232075,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1761531232075,"stop":1761531232298,"duration":223},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_primary_switchover"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"19433-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_primary_switchover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a1fb1e27abb303e7","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":7,"skipped":0,"passed":51,"unknown":2,"total":60},"items":[{"uid":"780d5189e9d96a6f","reportUrl":"../3373//#testresult/780d5189e9d96a6f","status":"passed","time":{"start":1761443811045,"stop":1761444067563,"duration":256518}},{"uid":"107800517af11f2","reportUrl":"../3372//#testresult/107800517af11f2","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1761357145891,"stop":1761357255819,"duration":109928}},{"uid":"71d4c5a6b18c92c7","reportUrl":"../3364//#testresult/71d4c5a6b18c92c7","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1761271003012,"stop":1761271104820,"duration":101808}},{"uid":"a448eb4e31bc178e","reportUrl":"../3358//#testresult/a448eb4e31bc178e","status":"passed","time":{"start":1761184003945,"stop":1761184297653,"duration":293708}},{"uid":"97265dd0ca8edbc","reportUrl":"../3355//#testresult/97265dd0ca8edbc","status":"passed","time":{"start":1761104022947,"stop":1761104280966,"duration":258019}},{"uid":"991f1596fde89343","reportUrl":"../3351//#testresult/991f1596fde89343","status":"passed","time":{"start":1761011969953,"stop":1761012255037,"duration":285084}},{"uid":"c7b75ec80f4641e1","reportUrl":"../3344//#testresult/c7b75ec80f4641e1","status":"passed","time":{"start":1760926140831,"stop":1760926404569,"duration":263738}},{"uid":"97cd9456695b5985","reportUrl":"../3343//#testresult/97cd9456695b5985","status":"passed","time":{"start":1760839008843,"stop":1760839257046,"duration":248203}},{"uid":"64f473f2aeb89af","reportUrl":"../3342//#testresult/64f473f2aeb89af","status":"passed","time":{"start":1760777329691,"stop":1760777591201,"duration":261510}},{"uid":"22fe32d8b526bf4e","reportUrl":"../3338//#testresult/22fe32d8b526bf4e","status":"passed","time":{"start":1760684464977,"stop":1760684718279,"duration":253302}},{"uid":"d9c16d9421ba5e5e","reportUrl":"../3336//#testresult/d9c16d9421ba5e5e","status":"passed","time":{"start":1760580252190,"stop":1760580527159,"duration":274969}},{"uid":"6958002ff301231d","reportUrl":"../3334//#testresult/6958002ff301231d","status":"passed","time":{"start":1760493111762,"stop":1760493363428,"duration":251666}},{"uid":"e55fbf77a3472677","reportUrl":"../3327//#testresult/e55fbf77a3472677","status":"passed","time":{"start":1760407449529,"stop":1760407722673,"duration":273144}},{"uid":"f9dd62b3f21baae9","reportUrl":"../3326//#testresult/f9dd62b3f21baae9","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1760321078721,"stop":1760321182583,"duration":103862}},{"uid":"9d66b657c5faa549","reportUrl":"../3325//#testresult/9d66b657c5faa549","status":"passed","time":{"start":1760236749465,"stop":1760236993621,"duration":244156}},{"uid":"9e205654f8657654","reportUrl":"../3324//#testresult/9e205654f8657654","status":"passed","time":{"start":1760147378796,"stop":1760147698037,"duration":319241}},{"uid":"7d6bc67df16b3187","reportUrl":"../3323//#testresult/7d6bc67df16b3187","status":"passed","time":{"start":1760061632338,"stop":1760061955532,"duration":323194}},{"uid":"535ebf4925ec0506","reportUrl":"../3322//#testresult/535ebf4925ec0506","status":"broken","statusDetails":"jubilant._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1759975250400,"stop":1759975360990,"duration":110590}},{"uid":"1fa8fd6ca54ba0a","reportUrl":"../3318//#testresult/1fa8fd6ca54ba0a","status":"broken","statusDetails":"jubilant._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1759888855340,"stop":1759888978605,"duration":123265}},{"uid":"7d7b9351ab14a31c","reportUrl":"../3311//#testresult/7d7b9351ab14a31c","status":"passed","time":{"start":1759801993852,"stop":1759802264272,"duration":270420}}]},"tags":["abort_on_fail"]},"source":"728902f837a1586b.json","parameterValues":[]}