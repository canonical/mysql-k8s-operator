{"uid":"bfe35c58f844b9b2","name":"test_create_replication","fullName":"tests.integration.high_availability.test_async_replication#test_create_replication","historyId":"581ebb01823861b11b1ec6ccbecf1fb4","time":{"start":1744939977053,"stop":1744940280696,"duration":303643},"description":"Run the create replication and wait for the applications to settle.","descriptionHtml":"<p>Run the create replication and wait for the applications to settle.</p>\n","status":"broken","statusMessage":"TimeoutError: Timed out waiting for model:\ndb2/0 [executing] waiting: waiting to join the cluster\n  db2/1 [executing] waiting: Waiting for recovery to complete on other units\n  db2/2 [executing] waiting: waiting to join the cluster","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/high_availability/test_async_replication.py\", line 205, in test_create_replication\n    await gather(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 3209, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nTimeoutError: Timed out waiting for model:\ndb2/0 [executing] waiting: waiting to join the cluster\n  db2/1 [executing] waiting: Waiting for recovery to complete on other units\n  db2/2 [executing] waiting: waiting to join the cluster","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1744939713599,"stop":1744939713794,"duration":195},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1744939713599,"stop":1744939713599,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1744939713599,"stop":1744939713599,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1744939713795,"stop":1744939714479,"duration":684},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1744939713795,"stop":1744939713795,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1744939977053,"stop":1744939977053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Run the create replication and wait for the applications to settle.","status":"broken","statusMessage":"TimeoutError: Timed out waiting for model:\ndb2/0 [executing] waiting: waiting to join the cluster\n  db2/1 [executing] waiting: Waiting for recovery to complete on other units\n  db2/2 [executing] waiting: waiting to join the cluster","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/high_availability/test_async_replication.py\", line 205, in test_create_replication\n    await gather(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 3209, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nTimeoutError: Timed out waiting for model:\ndb2/0 [executing] waiting: waiting to join the cluster\n  db2/1 [executing] waiting: Waiting for recovery to complete on other units\n  db2/2 [executing] waiting: waiting to join the cluster","steps":[],"attachments":[{"uid":"8351ce130affa30","name":"log","source":"8351ce130affa30.txt","type":"text/plain","size":3257}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1744940280705,"stop":1744940280705,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1744940280744,"stop":1744940280776,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1744940280778,"stop":1744940281696,"duration":918},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1744940281697,"stop":1744940281697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1744940281697,"stop":1744940281697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1744940281697,"stop":1744940281697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3+')"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"fv-az1392-117"},{"name":"thread","value":"17685-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"625b81ece727b385","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":6,"skipped":32,"passed":243,"unknown":6,"total":287},"items":[{"uid":"c58f36efdd40e2ae","reportUrl":"../2906//#testresult/c58f36efdd40e2ae","status":"passed","time":{"start":1744853562358,"stop":1744853733850,"duration":171492}},{"uid":"33533527b834ce04","reportUrl":"../2905//#testresult/33533527b834ce04","status":"passed","time":{"start":1744767189488,"stop":1744767385990,"duration":196502}},{"uid":"9c6d7b2a42d4a184","reportUrl":"../2901//#testresult/9c6d7b2a42d4a184","status":"passed","time":{"start":1744680797827,"stop":1744680979694,"duration":181867}},{"uid":"db17cba1c3bd996","reportUrl":"../2897//#testresult/db17cba1c3bd996","status":"passed","time":{"start":1744335158877,"stop":1744335347953,"duration":189076}},{"uid":"a1f79c5b53475581","reportUrl":"../2896//#testresult/a1f79c5b53475581","status":"passed","time":{"start":1744248750560,"stop":1744248919835,"duration":169275}},{"uid":"f3555c234f20663a","reportUrl":"../2895//#testresult/f3555c234f20663a","status":"passed","time":{"start":1744162403660,"stop":1744162618164,"duration":214504}},{"uid":"25c25e812940037b","reportUrl":"../2889//#testresult/25c25e812940037b","status":"passed","time":{"start":1744075962029,"stop":1744076146738,"duration":184709}},{"uid":"ea7b8f66b9113966","reportUrl":"../2888//#testresult/ea7b8f66b9113966","status":"passed","time":{"start":1743989689518,"stop":1743989913462,"duration":223944}},{"uid":"ca44fa092e1ef79e","reportUrl":"../2887//#testresult/ca44fa092e1ef79e","status":"passed","time":{"start":1743903171794,"stop":1743903282499,"duration":110705}},{"uid":"7c124a2a5e037363","reportUrl":"../2886//#testresult/7c124a2a5e037363","status":"passed","time":{"start":1743816766799,"stop":1743816920155,"duration":153356}},{"uid":"bf7e3568ac2cebb2","reportUrl":"../2885//#testresult/bf7e3568ac2cebb2","status":"passed","time":{"start":1743730416229,"stop":1743730580237,"duration":164008}},{"uid":"6295d521aaf8f479","reportUrl":"../2884//#testresult/6295d521aaf8f479","status":"passed","time":{"start":1743644022583,"stop":1743644208532,"duration":185949}},{"uid":"9e630895e82df2e3","reportUrl":"../2883//#testresult/9e630895e82df2e3","status":"passed","time":{"start":1743557562443,"stop":1743557730513,"duration":168070}},{"uid":"18248904ef0f3e70","reportUrl":"../2879//#testresult/18248904ef0f3e70","status":"passed","time":{"start":1743471230785,"stop":1743471442202,"duration":211417}},{"uid":"9c77b9d28b19397a","reportUrl":"../2877//#testresult/9c77b9d28b19397a","status":"passed","time":{"start":1743384806096,"stop":1743384958686,"duration":152590}},{"uid":"da5fff08f14e0336","reportUrl":"../2876//#testresult/da5fff08f14e0336","status":"passed","time":{"start":1743298422442,"stop":1743298579953,"duration":157511}},{"uid":"441e61d1f10163c5","reportUrl":"../2875//#testresult/441e61d1f10163c5","status":"passed","time":{"start":1743211938972,"stop":1743212126355,"duration":187383}},{"uid":"94199997f6efd544","reportUrl":"../2873//#testresult/94199997f6efd544","status":"passed","time":{"start":1743125627217,"stop":1743125818620,"duration":191403}},{"uid":"7e1bdc1cfb6fb6a4","reportUrl":"../2872//#testresult/7e1bdc1cfb6fb6a4","status":"passed","time":{"start":1743039203668,"stop":1743039339907,"duration":136239}},{"uid":"665ddfa1ab62e689","reportUrl":"../2869//#testresult/665ddfa1ab62e689","status":"passed","time":{"start":1742952840614,"stop":1742953039725,"duration":199111}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3+')"]},"source":"bfe35c58f844b9b2.json","parameterValues":[]}