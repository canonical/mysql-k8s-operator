{"uid":"618abcd6931ca3d8","name":"test_scale_out","fullName":"tests.integration.test_multi_relations#test_scale_out","historyId":"a6ad709962481d68f3c7e0995010494f","time":{"start":1759110084492,"stop":1759111885229,"duration":1800737},"description":"Scale database and routers.","descriptionHtml":"<p>Scale database and routers.</p>\n","status":"broken","statusMessage":"TimeoutError","statusTrace":"Traceback (most recent call last):\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 136, in _block\n    await asyncio.sleep(wait_period)\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 665, in sleep\n    return await future\n           ^^^^^^^^^^^^\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_multi_relations.py\", line 74, in test_scale_out\n    await ops_test.model.block_until(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 1153, in block_until\n    await utils.block_until(done, timeout=timeout, wait_period=wait_period)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 138, in block_until\n    await asyncio.shield(asyncio.wait_for(_block(), timeout))\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 519, in wait_for\n    async with timeouts.timeout(timeout):\n  File \"/usr/lib/python3.12/asyncio/timeouts.py\", line 115, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1759109838331,"stop":1759109838332,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1759109838332,"stop":1759109838332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1759109838332,"stop":1759109838543,"duration":211},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1759110084492,"stop":1759110084492,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1759111885301,"stop":1759111885301,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1759111885309,"stop":1759111888802,"duration":3493},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1759111888803,"stop":1759111888804,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1759111888804,"stop":1759111888804,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1759111888804,"stop":1759111888804,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_multi_relations"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"18731-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_multi_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3e2c7e69cd8fd8fa","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":1,"broken":7,"skipped":4,"passed":328,"unknown":15,"total":355},"items":[{"uid":"7bbf894294eb6fd9","reportUrl":"../3286//#testresult/7bbf894294eb6fd9","status":"passed","time":{"start":1759026106735,"stop":1759027052961,"duration":946226}},{"uid":"aea82ff1f77d451f","reportUrl":"../3285//#testresult/aea82ff1f77d451f","status":"passed","time":{"start":1758937110629,"stop":1758937911948,"duration":801319}},{"uid":"e9eae7fe8bd8703","reportUrl":"../3283//#testresult/e9eae7fe8bd8703","status":"passed","time":{"start":1758853627402,"stop":1758854543184,"duration":915782}},{"uid":"365022fb23fd4a3b","reportUrl":"../3277//#testresult/365022fb23fd4a3b","status":"passed","time":{"start":1758765137507,"stop":1758766003232,"duration":865725}},{"uid":"7e79d334c3b58b23","reportUrl":"../3271//#testresult/7e79d334c3b58b23","status":"passed","time":{"start":1758680188875,"stop":1758681004784,"duration":815909}},{"uid":"cd8fb8f4e8f8eade","reportUrl":"../3262//#testresult/cd8fb8f4e8f8eade","status":"passed","time":{"start":1758596174898,"stop":1758596971122,"duration":796224}},{"uid":"b5b420c5a1af382a","reportUrl":"../3255//#testresult/b5b420c5a1af382a","status":"passed","time":{"start":1758506440617,"stop":1758507206839,"duration":766222}},{"uid":"da3ee9513e36aa82","reportUrl":"../3254//#testresult/da3ee9513e36aa82","status":"broken","statusDetails":"TimeoutError","time":{"start":1758419648137,"stop":1758421449462,"duration":1801325}},{"uid":"4b46938a2f8152b3","reportUrl":"../3253//#testresult/4b46938a2f8152b3","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1758334837497,"stop":1758334837497,"duration":0}},{"uid":"9a84076396e7c09d","reportUrl":"../3252//#testresult/9a84076396e7c09d","status":"passed","time":{"start":1758250576129,"stop":1758251377273,"duration":801144}},{"uid":"cffa455975ca9152","reportUrl":"../3250//#testresult/cffa455975ca9152","status":"passed","time":{"start":1758161833242,"stop":1758162609089,"duration":775847}},{"uid":"26b268e4df7379a2","reportUrl":"../3244//#testresult/26b268e4df7379a2","status":"passed","time":{"start":1758072876972,"stop":1758073853067,"duration":976095}},{"uid":"a5e889eb741d6fcd","reportUrl":"../3240//#testresult/a5e889eb741d6fcd","status":"passed","time":{"start":1757987707073,"stop":1757988547989,"duration":840916}},{"uid":"d47b4101674ab419","reportUrl":"../3239//#testresult/d47b4101674ab419","status":"passed","time":{"start":1757901399907,"stop":1757902320920,"duration":921013}},{"uid":"b0f89d8b5bb8f140","reportUrl":"../3238//#testresult/b0f89d8b5bb8f140","status":"passed","time":{"start":1757815142695,"stop":1757815963923,"duration":821228}},{"uid":"832d05f7321565ce","reportUrl":"../3237//#testresult/832d05f7321565ce","status":"passed","time":{"start":1757728899715,"stop":1757729691214,"duration":791499}},{"uid":"32a9686e15433d49","reportUrl":"../3233//#testresult/32a9686e15433d49","status":"passed","time":{"start":1757641478323,"stop":1757642329558,"duration":851235}},{"uid":"58e0f8998c649768","reportUrl":"../3232//#testresult/58e0f8998c649768","status":"passed","time":{"start":1757555874533,"stop":1757556655481,"duration":780948}},{"uid":"2427ddf0b79884dd","reportUrl":"../3231//#testresult/2427ddf0b79884dd","status":"passed","time":{"start":1757468881158,"stop":1757469702492,"duration":821334}},{"uid":"568c26daad6539b9","reportUrl":"../3225//#testresult/568c26daad6539b9","status":"passed","time":{"start":1757384145975,"stop":1757384981825,"duration":835850}}]},"tags":["asyncio","abort_on_fail"]},"source":"618abcd6931ca3d8.json","parameterValues":[]}