{"uid":"6901d507872b739d","name":"test_check_consistency","fullName":"tests.integration.high_availability.test_replication#test_check_consistency","historyId":"3a16b79cb300ff9023638b4ddac61e4b","time":{"start":1722563591717,"stop":1722563591717,"duration":0},"description":"Test to write to primary, and read the same data back from replicas.","descriptionHtml":"<p>Test to write to primary, and read the same data back from replicas.</p>\n","status":"broken","statusMessage":"KeyError: 'mysql-test-app'","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 157, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 497, in setup\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 494, in setup\n    col.setup()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1795, in setup\n    self._request._fillfixtures()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 566, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 585, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1069, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in _asyncgen_fixture_wrapper\n    result = event_loop.run_until_complete(setup())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 284, in setup\n    res = await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 25, in continuous_writes\n    application_unit = ops_test.model.applications[APPLICATION_DEFAULT_APP_NAME].units[0]\nKeyError: 'mysql-test-app'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1722562690671,"stop":1722562690671,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1722562690672,"stop":1722562690672,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1722562690672,"stop":1722562690951,"duration":279},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1722563591717,"stop":1722563591718,"duration":1},"status":"broken","statusMessage":"KeyError: 'mysql-test-app'\n","statusTrace":"  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in _asyncgen_fixture_wrapper\n    result = event_loop.run_until_complete(setup())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 284, in setup\n    res = await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 25, in continuous_writes\n    application_unit = ops_test.model.applications[APPLICATION_DEFAULT_APP_NAME].units[0]\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1722563591717,"stop":1722563591717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1722563591719,"stop":1722563591719,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1722563591726,"stop":1722563592076,"duration":350},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1722563592077,"stop":1722563592077,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1722563592077,"stop":1722563592077,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1722563592077,"stop":1722563592077,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_replication"},{"name":"host","value":"fv-az1269-474"},{"name":"thread","value":"12621-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"dc8fd4517bfd18c0","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":6,"passed":167,"unknown":0,"total":177},"items":[{"uid":"bbc7f5ac29aff03a","reportUrl":"../2134//#testresult/bbc7f5ac29aff03a","status":"passed","time":{"start":1722476197691,"stop":1722476220603,"duration":22912}},{"uid":"4352f0c16292f4db","reportUrl":"../2128//#testresult/4352f0c16292f4db","status":"passed","time":{"start":1722389682844,"stop":1722389708880,"duration":26036}},{"uid":"ae0d42d8fe0c42a9","reportUrl":"../2126//#testresult/ae0d42d8fe0c42a9","status":"passed","time":{"start":1722303380839,"stop":1722303402711,"duration":21872}},{"uid":"2af1be841030e7c4","reportUrl":"../2121//#testresult/2af1be841030e7c4","status":"passed","time":{"start":1722217012554,"stop":1722217037515,"duration":24961}},{"uid":"8b89f11faa6d780b","reportUrl":"../2120//#testresult/8b89f11faa6d780b","status":"passed","time":{"start":1722130671646,"stop":1722130695571,"duration":23925}},{"uid":"b26be266f8fd13f7","reportUrl":"../2119//#testresult/b26be266f8fd13f7","status":"passed","time":{"start":1722044098756,"stop":1722044122691,"duration":23935}},{"uid":"e9182f05b7b0c5dd","reportUrl":"../2112//#testresult/e9182f05b7b0c5dd","status":"passed","time":{"start":1721957799855,"stop":1721957820735,"duration":20880}},{"uid":"6aa1fa4fe6c05241","reportUrl":"../2105//#testresult/6aa1fa4fe6c05241","status":"passed","time":{"start":1721871320689,"stop":1721871341525,"duration":20836}},{"uid":"704131579931c6c3","reportUrl":"../2103//#testresult/704131579931c6c3","status":"passed","time":{"start":1721785433053,"stop":1721785456973,"duration":23920}},{"uid":"cd369112105d590a","reportUrl":"../2101//#testresult/cd369112105d590a","status":"passed","time":{"start":1721699000985,"stop":1721699022858,"duration":21873}},{"uid":"5fde4fa680fd3a80","reportUrl":"../2095//#testresult/5fde4fa680fd3a80","status":"passed","time":{"start":1721612201974,"stop":1721612226892,"duration":24918}},{"uid":"d0e63eed75d4060","reportUrl":"../2094//#testresult/d0e63eed75d4060","status":"passed","time":{"start":1721525720396,"stop":1721525742238,"duration":21842}},{"uid":"b6ff9a41a80af958","reportUrl":"../2093//#testresult/b6ff9a41a80af958","status":"passed","time":{"start":1721439337937,"stop":1721439359783,"duration":21846}},{"uid":"c7bbc19801db20ea","reportUrl":"../2087//#testresult/c7bbc19801db20ea","status":"passed","time":{"start":1721356654937,"stop":1721356675812,"duration":20875}},{"uid":"46eba5d7400134ec","reportUrl":"../2082//#testresult/46eba5d7400134ec","status":"passed","time":{"start":1721266660257,"stop":1721266682223,"duration":21966}},{"uid":"317bef99d2e1da47","reportUrl":"../2079//#testresult/317bef99d2e1da47","status":"passed","time":{"start":1721180421574,"stop":1721180442446,"duration":20872}},{"uid":"a0dba68820b8f169","reportUrl":"../2077//#testresult/a0dba68820b8f169","status":"passed","time":{"start":1721093786460,"stop":1721093807355,"duration":20895}},{"uid":"57c5055e87aaa4f0","reportUrl":"../2071//#testresult/57c5055e87aaa4f0","status":"passed","time":{"start":1721007628529,"stop":1721007649372,"duration":20843}},{"uid":"33ef231a9a2872ab","reportUrl":"../2070//#testresult/33ef231a9a2872ab","status":"passed","time":{"start":1720921161735,"stop":1720921182588,"duration":20853}},{"uid":"62a9d644900a8470","reportUrl":"../2069//#testresult/62a9d644900a8470","status":"passed","time":{"start":1720834594498,"stop":1720834615352,"duration":20854}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"6901d507872b739d.json","parameterValues":[]}