{"uid":"39b3fb408cea1ea1","name":"test_backup","fullName":"tests.integration.test_backup_aws#test_backup","historyId":"e96c0f3217d46bf22e6acfcd7d88e50c","time":{"start":1722563549631,"stop":1722563550653,"duration":1022},"description":"Test to create a backup and list backups.","descriptionHtml":"<p>Test to create a backup and list backups.</p>\n","status":"failed","statusMessage":"AssertionError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/test_backup_aws.py\", line 126, in test_backup\n    value_before_backup = await insert_data_into_mysql_and_validate_replication(\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/high_availability_helpers.py\", line 388, in insert_data_into_mysql_and_validate_replication\n    primary = await get_primary_unit(ops_test, mysql_units[0], mysql_application_name)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/helpers.py\", line 146, in get_primary_unit\n    cluster_status = await get_cluster_status(unit)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/helpers.py\", line 79, in get_cluster_status\n    results = await juju_.run_action(unit, \"get-cluster-status\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\nAssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"clean_backups_from_buckets","time":{"start":1722562648968,"stop":1722562648968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cloud_configs","time":{"start":1722562648968,"stop":1722562648968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_secrets","time":{"start":1722562648968,"stop":1722562648968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cloud_credentials","time":{"start":1722562648968,"stop":1722562648968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1722562648968,"stop":1722562648968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1722562648969,"stop":1722562648969,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1722562648969,"stop":1722562649237,"duration":268},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1722563549630,"stop":1722563549631,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to create a backup and list backups.","status":"failed","statusMessage":"AssertionError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/test_backup_aws.py\", line 126, in test_backup\n    value_before_backup = await insert_data_into_mysql_and_validate_replication(\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/high_availability_helpers.py\", line 388, in insert_data_into_mysql_and_validate_replication\n    primary = await get_primary_unit(ops_test, mysql_units[0], mysql_application_name)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/helpers.py\", line 146, in get_primary_unit\n    cluster_status = await get_cluster_status(unit)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/helpers.py\", line 79, in get_cluster_status\n    results = await juju_.run_action(unit, \"get-cluster-status\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\nAssertionError","steps":[],"attachments":[{"uid":"db81204c10beee6a","name":"log","source":"db81204c10beee6a.txt","type":"text/plain","size":98}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1722563550654,"stop":1722563550655,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1722563550662,"stop":1722563551005,"duration":343},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1722563551005,"stop":1722563551006,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1722563551006,"stop":1722563551006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1722563551006,"stop":1722563551006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clean_backups_from_buckets::0","time":{"start":1722563551007,"stop":1722563551203,"duration":196},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_backup_aws"},{"name":"host","value":"fv-az849-726"},{"name":"thread","value":"11923-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_backup_aws"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"590b980b09c2d687","status":"unknown","time":{}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":26,"unknown":0,"total":27},"items":[{"uid":"af77af5d306497c6","reportUrl":"../2134//#testresult/af77af5d306497c6","status":"passed","time":{"start":1722476109620,"stop":1722476154043,"duration":44423}},{"uid":"a2b9a6019d3fb55a","reportUrl":"../2128//#testresult/a2b9a6019d3fb55a","status":"passed","time":{"start":1722389576367,"stop":1722389622239,"duration":45872}},{"uid":"a2238d209ca1a1df","reportUrl":"../2126//#testresult/a2238d209ca1a1df","status":"passed","time":{"start":1722303329369,"stop":1722303375626,"duration":46257}},{"uid":"6cb1479be3381501","reportUrl":"../2121//#testresult/6cb1479be3381501","status":"passed","time":{"start":1722216957577,"stop":1722217006042,"duration":48465}},{"uid":"e04dee107254e0a7","reportUrl":"../2120//#testresult/e04dee107254e0a7","status":"passed","time":{"start":1722130616149,"stop":1722130661021,"duration":44872}},{"uid":"685d50315187f274","reportUrl":"../2119//#testresult/685d50315187f274","status":"passed","time":{"start":1722044017591,"stop":1722044073936,"duration":56345}},{"uid":"ee589c2f3c9e12f6","reportUrl":"../2112//#testresult/ee589c2f3c9e12f6","status":"passed","time":{"start":1721957715201,"stop":1721957761136,"duration":45935}},{"uid":"faee219bea74f1a4","reportUrl":"../2105//#testresult/faee219bea74f1a4","status":"passed","time":{"start":1721871250661,"stop":1721871296027,"duration":45366}},{"uid":"4e1ae834de363060","reportUrl":"../2103//#testresult/4e1ae834de363060","status":"passed","time":{"start":1721785388168,"stop":1721785437612,"duration":49444}},{"uid":"826d570ee64a27cc","reportUrl":"../2101//#testresult/826d570ee64a27cc","status":"passed","time":{"start":1721698931341,"stop":1721698977362,"duration":46021}},{"uid":"a41882b1d1d7b687","reportUrl":"../2095//#testresult/a41882b1d1d7b687","status":"passed","time":{"start":1721612135262,"stop":1721612194625,"duration":59363}},{"uid":"b730777194c94d2c","reportUrl":"../2094//#testresult/b730777194c94d2c","status":"passed","time":{"start":1721525636377,"stop":1721525682362,"duration":45985}},{"uid":"3771c4c564b705fb","reportUrl":"../2093//#testresult/3771c4c564b705fb","status":"passed","time":{"start":1721439273836,"stop":1721439335289,"duration":61453}},{"uid":"f3ff731af540f31b","reportUrl":"../2087//#testresult/f3ff731af540f31b","status":"passed","time":{"start":1721356615463,"stop":1721356661463,"duration":46000}},{"uid":"a4716b1d477c512e","reportUrl":"../2082//#testresult/a4716b1d477c512e","status":"passed","time":{"start":1721266573225,"stop":1721266618644,"duration":45419}},{"uid":"6c6a3d13d2c280cd","reportUrl":"../2079//#testresult/6c6a3d13d2c280cd","status":"passed","time":{"start":1721180337035,"stop":1721180384123,"duration":47088}},{"uid":"5636affaac0c04c3","reportUrl":"../2077//#testresult/5636affaac0c04c3","status":"passed","time":{"start":1721093710984,"stop":1721093756998,"duration":46014}},{"uid":"67c48678c26e2dba","reportUrl":"../2071//#testresult/67c48678c26e2dba","status":"passed","time":{"start":1721007542874,"stop":1721007584117,"duration":41243}},{"uid":"4cec4de5c79e09c9","reportUrl":"../2070//#testresult/4cec4de5c79e09c9","status":"passed","time":{"start":1720921090105,"stop":1720921135133,"duration":45028}},{"uid":"34c9ad230682f33b","reportUrl":"../2069//#testresult/34c9ad230682f33b","status":"passed","time":{"start":1720834516288,"stop":1720834560709,"duration":44421}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"39b3fb408cea1ea1.json","parameterValues":[]}