{"uid":"9ab06ef17be551e7","name":"test_scale_out","fullName":"tests.integration.test_multi_relations#test_scale_out","historyId":"a6ad709962481d68f3c7e0995010494f","time":{"start":1749691926890,"stop":1749693727092,"duration":1800202},"description":"Scale database and routers.","descriptionHtml":"<p>Scale database and routers.</p>\n","status":"broken","statusMessage":"TimeoutError","statusTrace":"Traceback (most recent call last):\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 136, in _block\n    await asyncio.sleep(wait_period)\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 665, in sleep\n    return await future\n           ^^^^^^^^^^^^\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_multi_relations.py\", line 74, in test_scale_out\n    await ops_test.model.block_until(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 1153, in block_until\n    await utils.block_until(done, timeout=timeout, wait_period=wait_period)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 138, in block_until\n    await asyncio.shield(asyncio.wait_for(_block(), timeout))\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 519, in wait_for\n    async with timeouts.timeout(timeout):\n  File \"/usr/lib/python3.12/asyncio/timeouts.py\", line 115, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1749691737262,"stop":1749691737263,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1749691737263,"stop":1749691737457,"duration":194},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1749691737263,"stop":1749691737263,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1749691926889,"stop":1749691926889,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1749693727149,"stop":1749693727149,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1749693727153,"stop":1749693727663,"duration":510},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1749693727664,"stop":1749693727664,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1749693727664,"stop":1749693727664,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1749693727664,"stop":1749693727664,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_multi_relations"},{"name":"host","value":"fv-az1307-441"},{"name":"thread","value":"17704-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_multi_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"f9ec53862d3fc796","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":4,"skipped":2,"passed":237,"unknown":6,"total":249},"items":[{"uid":"a4a06c43dadbf4d4","reportUrl":"../2993//#testresult/a4a06c43dadbf4d4","status":"passed","time":{"start":1749605524785,"stop":1749606005087,"duration":480302}},{"uid":"2a60f0610508d114","reportUrl":"../2990//#testresult/2a60f0610508d114","status":"passed","time":{"start":1749519114351,"stop":1749519584598,"duration":470247}},{"uid":"a9f47ae7a37f2f4f","reportUrl":"../2989//#testresult/a9f47ae7a37f2f4f","status":"passed","time":{"start":1749432705417,"stop":1749433190765,"duration":485348}},{"uid":"71218d53b4252f6b","reportUrl":"../2988//#testresult/71218d53b4252f6b","status":"passed","time":{"start":1749346334147,"stop":1749346799408,"duration":465261}},{"uid":"890d9c78d0aed039","reportUrl":"../2987//#testresult/890d9c78d0aed039","status":"passed","time":{"start":1749259907290,"stop":1749260372550,"duration":465260}},{"uid":"9072590b474d9a87","reportUrl":"../2986//#testresult/9072590b474d9a87","status":"passed","time":{"start":1749173562501,"stop":1749174032779,"duration":470278}},{"uid":"8808c38afbcf199e","reportUrl":"../2985//#testresult/8808c38afbcf199e","status":"passed","time":{"start":1749087081193,"stop":1749087566511,"duration":485318}},{"uid":"846296b77cc7888f","reportUrl":"../2983//#testresult/846296b77cc7888f","status":"passed","time":{"start":1749000749459,"stop":1749001244754,"duration":495295}},{"uid":"cc3451c8b2daeb12","reportUrl":"../2979//#testresult/cc3451c8b2daeb12","status":"passed","time":{"start":1748914317492,"stop":1748914797807,"duration":480315}},{"uid":"e8c54bc7953152f7","reportUrl":"../2978//#testresult/e8c54bc7953152f7","status":"passed","time":{"start":1748827921952,"stop":1748828397285,"duration":475333}},{"uid":"703b5d7db46b53f6","reportUrl":"../2977//#testresult/703b5d7db46b53f6","status":"passed","time":{"start":1748741567726,"stop":1748742053007,"duration":485281}},{"uid":"25c16bd0f75caf65","reportUrl":"../2976//#testresult/25c16bd0f75caf65","status":"passed","time":{"start":1748655099938,"stop":1748655575227,"duration":475289}},{"uid":"1487c46d6ac666a5","reportUrl":"../2975//#testresult/1487c46d6ac666a5","status":"passed","time":{"start":1748568690744,"stop":1748569155973,"duration":465229}},{"uid":"84fe078ba90dcfbe","reportUrl":"../2973//#testresult/84fe078ba90dcfbe","status":"passed","time":{"start":1748395903295,"stop":1748396363587,"duration":460292}},{"uid":"46a004b0d52a1f0","reportUrl":"../2969//#testresult/46a004b0d52a1f0","status":"unknown","time":{}},{"uid":"286fd03c63dc631d","reportUrl":"../2968//#testresult/286fd03c63dc631d","status":"passed","time":{"start":1748223110732,"stop":1748223626027,"duration":515295}},{"uid":"5fd62b64dd54a70","reportUrl":"../2966//#testresult/5fd62b64dd54a70","status":"passed","time":{"start":1748050295400,"stop":1748050755683,"duration":460283}},{"uid":"5bf86031577c28d","reportUrl":"../2965//#testresult/5bf86031577c28d","status":"passed","time":{"start":1747963874788,"stop":1747964340060,"duration":465272}},{"uid":"f76debf7b061302f","reportUrl":"../2964//#testresult/f76debf7b061302f","status":"passed","time":{"start":1747877501027,"stop":1747877976305,"duration":475278}},{"uid":"56e75c6062d1a697","reportUrl":"../2963//#testresult/56e75c6062d1a697","status":"passed","time":{"start":1747791102162,"stop":1747791567470,"duration":465308}}]},"tags":["asyncio","abort_on_fail"]},"source":"9ab06ef17be551e7.json","parameterValues":[]}