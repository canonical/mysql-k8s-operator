{"uid":"7e8998f53eb44bcd","name":"test_scale_out","fullName":"tests.integration.test_multi_relations#test_scale_out","historyId":"a6ad709962481d68f3c7e0995010494f","time":{"start":1727919300035,"stop":1727921100140,"duration":1800105},"description":"Scale database and routers.","descriptionHtml":"<p>Scale database and routers.</p>\n","status":"broken","statusMessage":"asyncio.exceptions.TimeoutError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/juju/utils.py\", line 129, in _block\n    await jasyncio.sleep(wait_period)\n  File \"/usr/lib/python3.10/asyncio/tasks.py\", line 605, in sleep\n    return await future\nasyncio.exceptions.CancelledError\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.10/asyncio/tasks.py\", line 456, in wait_for\n    return fut.result()\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/test_multi_relations.py\", line 80, in test_scale_out\n    await ops_test.model.block_until(\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 1046, in block_until\n    await utils.block_until(done,\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/juju/utils.py\", line 130, in block_until\n    await jasyncio.shield(jasyncio.wait_for(_block(), timeout))\n  File \"/usr/lib/python3.10/asyncio/tasks.py\", line 458, in wait_for\n    raise exceptions.TimeoutError() from exc\nasyncio.exceptions.TimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1727919101939,"stop":1727919101940,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1727919101940,"stop":1727919101940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1727919101940,"stop":1727919102253,"duration":313},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1727919300035,"stop":1727919300035,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1727921100148,"stop":1727921100148,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1727921100154,"stop":1727921101122,"duration":968},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1727921101122,"stop":1727921101123,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1727921101123,"stop":1727921101123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1727921101123,"stop":1727921101123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_multi_relations"},{"name":"host","value":"fv-az1205-759"},{"name":"thread","value":"13139-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_multi_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d0dd9dbb32a7214c","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":20,"unknown":0,"total":21},"items":[{"uid":"7e56e03f8c544268","reportUrl":"../2332//#testresult/7e56e03f8c544268","status":"passed","time":{"start":1727833164007,"stop":1727833654352,"duration":490345}},{"uid":"4504b6d3e8361784","reportUrl":"../2327//#testresult/4504b6d3e8361784","status":"passed","time":{"start":1727746495105,"stop":1727746930531,"duration":435426}},{"uid":"927bf17667f70fa4","reportUrl":"../2325//#testresult/927bf17667f70fa4","status":"passed","time":{"start":1727660067323,"stop":1727660517646,"duration":450323}},{"uid":"fba967317d41ddb9","reportUrl":"../2324//#testresult/fba967317d41ddb9","status":"passed","time":{"start":1727573679753,"stop":1727574180063,"duration":500310}},{"uid":"4a65c55a95d6a1fb","reportUrl":"../2323//#testresult/4a65c55a95d6a1fb","status":"passed","time":{"start":1727487233775,"stop":1727487709076,"duration":475301}},{"uid":"6ad0fe6454cb8dc0","reportUrl":"../2321//#testresult/6ad0fe6454cb8dc0","status":"passed","time":{"start":1727400882273,"stop":1727401362614,"duration":480341}},{"uid":"42caff077a1b1a1","reportUrl":"../2318//#testresult/42caff077a1b1a1","status":"passed","time":{"start":1727314479750,"stop":1727314970083,"duration":490333}},{"uid":"a3e009b7c38d7ae6","reportUrl":"../2311//#testresult/a3e009b7c38d7ae6","status":"passed","time":{"start":1727228083656,"stop":1727228553959,"duration":470303}},{"uid":"cb695e36f4a1fc44","reportUrl":"../2310//#testresult/cb695e36f4a1fc44","status":"passed","time":{"start":1727141708143,"stop":1727142168478,"duration":460335}},{"uid":"b6f1cfafd77769c3","reportUrl":"../2309//#testresult/b6f1cfafd77769c3","status":"passed","time":{"start":1727055199089,"stop":1727055644460,"duration":445371}},{"uid":"1026f795760c42d6","reportUrl":"../2308//#testresult/1026f795760c42d6","status":"passed","time":{"start":1726968843538,"stop":1726969343866,"duration":500328}},{"uid":"a200ebc0b28a5d58","reportUrl":"../2307//#testresult/a200ebc0b28a5d58","status":"passed","time":{"start":1726882453446,"stop":1726882928758,"duration":475312}},{"uid":"a40433560e2cb8e6","reportUrl":"../2306//#testresult/a40433560e2cb8e6","status":"passed","time":{"start":1726796107671,"stop":1726796587977,"duration":480306}},{"uid":"78adab320c592a6","reportUrl":"../2305//#testresult/78adab320c592a6","status":"passed","time":{"start":1726709644940,"stop":1726710080198,"duration":435258}},{"uid":"9c425d2305b36b1b","reportUrl":"../2303//#testresult/9c425d2305b36b1b","status":"passed","time":{"start":1726623265347,"stop":1726623725726,"duration":460379}},{"uid":"666c01ebf1258686","reportUrl":"../2297//#testresult/666c01ebf1258686","status":"passed","time":{"start":1726536780940,"stop":1726537241374,"duration":460434}},{"uid":"ae1cbb4c52382eab","reportUrl":"../2291//#testresult/ae1cbb4c52382eab","status":"passed","time":{"start":1726450519529,"stop":1726450989860,"duration":470331}},{"uid":"dc3a5018e29affec","reportUrl":"../2290//#testresult/dc3a5018e29affec","status":"passed","time":{"start":1726364103599,"stop":1726364573906,"duration":470307}},{"uid":"6f7f3e6eb5d192d3","reportUrl":"../2289//#testresult/6f7f3e6eb5d192d3","status":"passed","time":{"start":1726277614113,"stop":1726278029395,"duration":415282}},{"uid":"1a73f06eace19df4","reportUrl":"../2286//#testresult/1a73f06eace19df4","status":"passed","time":{"start":1726191254895,"stop":1726191730293,"duration":475398}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"7e8998f53eb44bcd.json","parameterValues":[]}