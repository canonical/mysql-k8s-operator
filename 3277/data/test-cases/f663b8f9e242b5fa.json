{"uid":"f663b8f9e242b5fa","name":"test_cluster_failover_after_majority_loss","fullName":"tests.integration.high_availability.test_primary_switchover#test_cluster_failover_after_majority_loss","historyId":"bade0bcc44a661c58105aab821721f91","time":{"start":1758765061857,"stop":1758765319809,"duration":257952},"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","descriptionHtml":"<p>Test the promote-to-primary command after losing the majority of nodes, with force flag.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1758764855812,"stop":1758764855812,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1758764855812,"stop":1758764855812,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1758764855812,"stop":1758764855812,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1758764855812,"stop":1758764855812,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1758764855813,"stop":1758764856040,"duration":227},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1758764856040,"stop":1758765047799,"duration":191759},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1758765061856,"stop":1758765061856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","status":"passed","steps":[],"attachments":[{"uid":"1b041cf6c6637f97","name":"log","source":"1b041cf6c6637f97.txt","type":"text/plain","size":15232}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1758765319811,"stop":1758765319812,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1758765319813,"stop":1758765319814,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1758765319816,"stop":1758765320581,"duration":765},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1758765320581,"stop":1758765320582,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1758765320582,"stop":1758765320582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1758765320582,"stop":1758765320582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1758765320582,"stop":1758765321013,"duration":431},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3+')"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_primary_switchover"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"18557-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_primary_switchover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5fea992fd5972006","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":24,"unknown":2,"total":28},"items":[{"uid":"c4a5293a7cfae9f6","reportUrl":"../3271//#testresult/c4a5293a7cfae9f6","status":"passed","time":{"start":1758680098065,"stop":1758680370884,"duration":272819}},{"uid":"b23bc4ad06842edd","reportUrl":"../3262//#testresult/b23bc4ad06842edd","status":"passed","time":{"start":1758595978570,"stop":1758596205709,"duration":227139}},{"uid":"334b67ff6db6c59e","reportUrl":"../3255//#testresult/334b67ff6db6c59e","status":"passed","time":{"start":1758506377579,"stop":1758506638062,"duration":260483}},{"uid":"59fcfda8f3389c87","reportUrl":"../3254//#testresult/59fcfda8f3389c87","status":"broken","statusDetails":"jubilant._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1758419696932,"stop":1758419796642,"duration":99710}},{"uid":"c7d88cd39b855545","reportUrl":"../3253//#testresult/c7d88cd39b855545","status":"passed","time":{"start":1758333337460,"stop":1758333635503,"duration":298043}},{"uid":"d5b78e3e8f5ce7c0","reportUrl":"../3252//#testresult/d5b78e3e8f5ce7c0","status":"passed","time":{"start":1758250590758,"stop":1758250844177,"duration":253419}},{"uid":"813798017faaf781","reportUrl":"../3250//#testresult/813798017faaf781","status":"passed","time":{"start":1758161796089,"stop":1758162056038,"duration":259949}},{"uid":"fba58df9bbf9a931","reportUrl":"../3244//#testresult/fba58df9bbf9a931","status":"passed","time":{"start":1758072810536,"stop":1758073070625,"duration":260089}},{"uid":"730cd3fccfb662db","reportUrl":"../3240//#testresult/730cd3fccfb662db","status":"passed","time":{"start":1757987988541,"stop":1757988244108,"duration":255567}},{"uid":"84522357ea76961","reportUrl":"../3239//#testresult/84522357ea76961","status":"broken","statusDetails":"jubilant._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1757901370032,"stop":1757901474509,"duration":104477}},{"uid":"77b42167e341f769","reportUrl":"../3238//#testresult/77b42167e341f769","status":"passed","time":{"start":1757815061266,"stop":1757815300860,"duration":239594}},{"uid":"5f742867c5263671","reportUrl":"../3237//#testresult/5f742867c5263671","status":"passed","time":{"start":1757728985014,"stop":1757729215725,"duration":230711}},{"uid":"230cd02063ec6b04","reportUrl":"../3233//#testresult/230cd02063ec6b04","status":"passed","time":{"start":1757641446013,"stop":1757641714514,"duration":268501}},{"uid":"55c4947d48b939f4","reportUrl":"../3232//#testresult/55c4947d48b939f4","status":"passed","time":{"start":1757555852964,"stop":1757556101892,"duration":248928}},{"uid":"47f55754bace4636","reportUrl":"../3231//#testresult/47f55754bace4636","status":"passed","time":{"start":1757468947266,"stop":1757469238259,"duration":290993}},{"uid":"bd073e1e8a987ed1","reportUrl":"../3225//#testresult/bd073e1e8a987ed1","status":"passed","time":{"start":1757383865875,"stop":1757384098423,"duration":232548}},{"uid":"939db7e03384c144","reportUrl":"../3223//#testresult/939db7e03384c144","status":"unknown","time":{}},{"uid":"e87ef49b5d48435d","reportUrl":"../3221//#testresult/e87ef49b5d48435d","status":"unknown","time":{}},{"uid":"2dccfb5997cb130f","reportUrl":"../3212//#testresult/2dccfb5997cb130f","status":"passed","time":{"start":1756951057146,"stop":1756951298634,"duration":241488}},{"uid":"4991977b9136829a","reportUrl":"../3206//#testresult/4991977b9136829a","status":"passed","time":{"start":1756863876947,"stop":1756864133561,"duration":256614}}]},"tags":["abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3+')"]},"source":"f663b8f9e242b5fa.json","parameterValues":[]}