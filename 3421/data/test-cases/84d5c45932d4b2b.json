{"uid":"84d5c45932d4b2b","name":"test_cluster_failover_after_majority_loss","fullName":"tests.integration.high_availability.test_primary_switchover#test_cluster_failover_after_majority_loss","historyId":"bade0bcc44a661c58105aab821721f91","time":{"start":1762480828393,"stop":1762481087105,"duration":258712},"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","descriptionHtml":"<p>Test the promote-to-primary command after losing the majority of nodes, with force flag.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1762480626586,"stop":1762480626586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1762480626586,"stop":1762480626586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1762480626586,"stop":1762480626891,"duration":305},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1762480626891,"stop":1762480626892,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1762480626892,"stop":1762480627076,"duration":184},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1762480627076,"stop":1762480816812,"duration":189736},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1762480828393,"stop":1762480828393,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","status":"passed","steps":[],"attachments":[{"uid":"e5c73388b4154244","name":"log","source":"e5c73388b4154244.txt","type":"text/plain","size":17414}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1762481087105,"stop":1762481087105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1762481087106,"stop":1762481087106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1762481087107,"stop":1762481087501,"duration":394},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1762481087502,"stop":1762481087502,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1762481087502,"stop":1762481087502,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1762481087502,"stop":1762481087502,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1762481087503,"stop":1762481087707,"duration":204},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_primary_switchover"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"18759-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_primary_switchover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4fe56c7bf5a3a8b2","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":7,"skipped":0,"passed":61,"unknown":2,"total":70},"items":[{"uid":"7c43a399bb6e4a8e","reportUrl":"../3417//#testresult/7c43a399bb6e4a8e","status":"passed","time":{"start":1762307550015,"stop":1762307794585,"duration":244570}},{"uid":"a52b637a7496eb68","reportUrl":"../3413//#testresult/a52b637a7496eb68","status":"passed","time":{"start":1762238611089,"stop":1762238859838,"duration":248749}},{"uid":"9e20a73287ea21da","reportUrl":"../3412//#testresult/9e20a73287ea21da","status":"passed","time":{"start":1762134118495,"stop":1762134368236,"duration":249741}},{"uid":"3090f4fa26ec7f75","reportUrl":"../3411//#testresult/3090f4fa26ec7f75","status":"passed","time":{"start":1762048870245,"stop":1762049162180,"duration":291935}},{"uid":"fb29aa0c4ca66e14","reportUrl":"../3410//#testresult/fb29aa0c4ca66e14","status":"passed","time":{"start":1761963349748,"stop":1761963642756,"duration":293008}},{"uid":"b649c84364de723a","reportUrl":"../3409//#testresult/b649c84364de723a","status":"passed","time":{"start":1761875201973,"stop":1761875502687,"duration":300714}},{"uid":"fe8c40490875a841","reportUrl":"../3404//#testresult/fe8c40490875a841","status":"passed","time":{"start":1761828722392,"stop":1761829002059,"duration":279667}},{"uid":"4c3dcc25efcf270f","reportUrl":"../3393//#testresult/4c3dcc25efcf270f","status":"passed","time":{"start":1761702415477,"stop":1761702686535,"duration":271058}},{"uid":"866cb47cdf30b502","reportUrl":"../3382//#testresult/866cb47cdf30b502","status":"passed","time":{"start":1761616481123,"stop":1761616774829,"duration":293706}},{"uid":"728902f837a1586b","reportUrl":"../3374//#testresult/728902f837a1586b","status":"passed","time":{"start":1761530972255,"stop":1761531231675,"duration":259420}},{"uid":"780d5189e9d96a6f","reportUrl":"../3373//#testresult/780d5189e9d96a6f","status":"passed","time":{"start":1761443811045,"stop":1761444067563,"duration":256518}},{"uid":"107800517af11f2","reportUrl":"../3372//#testresult/107800517af11f2","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1761357145891,"stop":1761357255819,"duration":109928}},{"uid":"71d4c5a6b18c92c7","reportUrl":"../3364//#testresult/71d4c5a6b18c92c7","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1761271003012,"stop":1761271104820,"duration":101808}},{"uid":"a448eb4e31bc178e","reportUrl":"../3358//#testresult/a448eb4e31bc178e","status":"passed","time":{"start":1761184003945,"stop":1761184297653,"duration":293708}},{"uid":"97265dd0ca8edbc","reportUrl":"../3355//#testresult/97265dd0ca8edbc","status":"passed","time":{"start":1761104022947,"stop":1761104280966,"duration":258019}},{"uid":"991f1596fde89343","reportUrl":"../3351//#testresult/991f1596fde89343","status":"passed","time":{"start":1761011969953,"stop":1761012255037,"duration":285084}},{"uid":"c7b75ec80f4641e1","reportUrl":"../3344//#testresult/c7b75ec80f4641e1","status":"passed","time":{"start":1760926140831,"stop":1760926404569,"duration":263738}},{"uid":"97cd9456695b5985","reportUrl":"../3343//#testresult/97cd9456695b5985","status":"passed","time":{"start":1760839008843,"stop":1760839257046,"duration":248203}},{"uid":"64f473f2aeb89af","reportUrl":"../3342//#testresult/64f473f2aeb89af","status":"passed","time":{"start":1760777329691,"stop":1760777591201,"duration":261510}},{"uid":"22fe32d8b526bf4e","reportUrl":"../3338//#testresult/22fe32d8b526bf4e","status":"passed","time":{"start":1760684464977,"stop":1760684718279,"duration":253302}}]},"tags":["abort_on_fail"]},"source":"84d5c45932d4b2b.json","parameterValues":[]}