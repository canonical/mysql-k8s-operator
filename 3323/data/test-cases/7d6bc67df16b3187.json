{"uid":"7d6bc67df16b3187","name":"test_cluster_failover_after_majority_loss","fullName":"tests.integration.high_availability.test_primary_switchover#test_cluster_failover_after_majority_loss","historyId":"bade0bcc44a661c58105aab821721f91","time":{"start":1760061632338,"stop":1760061955532,"duration":323194},"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","descriptionHtml":"<p>Test the promote-to-primary command after losing the majority of nodes, with force flag.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1760061417608,"stop":1760061417916,"duration":308},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1760061417608,"stop":1760061417608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1760061417608,"stop":1760061417608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1760061417917,"stop":1760061418151,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1760061417917,"stop":1760061417917,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1760061418152,"stop":1760061617766,"duration":199614},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1760061632338,"stop":1760061632338,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","status":"passed","steps":[],"attachments":[{"uid":"b2e3b6d3bd9a30a6","name":"log","source":"b2e3b6d3bd9a30a6.txt","type":"text/plain","size":8125}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1760061955533,"stop":1760061955533,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1760061955533,"stop":1760061955534,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1760061955534,"stop":1760061956198,"duration":664},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1760061956199,"stop":1760061956199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1760061956199,"stop":1760061956199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1760061956199,"stop":1760061956199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1760061956200,"stop":1760061956630,"duration":430},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_primary_switchover"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"18596-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_primary_switchover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3b0bfb1ccc022cca","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":37,"unknown":2,"total":43},"items":[{"uid":"535ebf4925ec0506","reportUrl":"../3322//#testresult/535ebf4925ec0506","status":"broken","statusDetails":"jubilant._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1759975250400,"stop":1759975360990,"duration":110590}},{"uid":"1fa8fd6ca54ba0a","reportUrl":"../3318//#testresult/1fa8fd6ca54ba0a","status":"broken","statusDetails":"jubilant._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1759888855340,"stop":1759888978605,"duration":123265}},{"uid":"7d7b9351ab14a31c","reportUrl":"../3311//#testresult/7d7b9351ab14a31c","status":"passed","time":{"start":1759801993852,"stop":1759802264272,"duration":270420}},{"uid":"15b783c7105de99c","reportUrl":"../3305//#testresult/15b783c7105de99c","status":"passed","time":{"start":1759717592534,"stop":1759717876436,"duration":283902}},{"uid":"6eac50ce9395f50d","reportUrl":"../3304//#testresult/6eac50ce9395f50d","status":"passed","time":{"start":1759633084896,"stop":1759633352492,"duration":267596}},{"uid":"33798257ddfaf6b4","reportUrl":"../3303//#testresult/33798257ddfaf6b4","status":"passed","time":{"start":1759542944135,"stop":1759543230759,"duration":286624}},{"uid":"3639231b4f1ad823","reportUrl":"../3302//#testresult/3639231b4f1ad823","status":"passed","time":{"start":1759456836987,"stop":1759457100547,"duration":263560}},{"uid":"d295e6195af4f811","reportUrl":"../3299//#testresult/d295e6195af4f811","status":"passed","time":{"start":1759370508701,"stop":1759370763435,"duration":254734}},{"uid":"ec203498a2f383e9","reportUrl":"../3296//#testresult/ec203498a2f383e9","status":"passed","time":{"start":1759284211035,"stop":1759284471061,"duration":260026}},{"uid":"f2db5f6f2ee9ea90","reportUrl":"../3288//#testresult/f2db5f6f2ee9ea90","status":"passed","time":{"start":1759197643613,"stop":1759197868883,"duration":225270}},{"uid":"789f86755b093c58","reportUrl":"../3287//#testresult/789f86755b093c58","status":"passed","time":{"start":1759110060299,"stop":1759110332789,"duration":272490}},{"uid":"6ca038ee5a7334c3","reportUrl":"../3286//#testresult/6ca038ee5a7334c3","status":"passed","time":{"start":1759026338153,"stop":1759026668013,"duration":329860}},{"uid":"578e38f9e5149bac","reportUrl":"../3285//#testresult/578e38f9e5149bac","status":"passed","time":{"start":1758937112700,"stop":1758937391095,"duration":278395}},{"uid":"36bc95016185311b","reportUrl":"../3283//#testresult/36bc95016185311b","status":"passed","time":{"start":1758853516043,"stop":1758853803510,"duration":287467}},{"uid":"f663b8f9e242b5fa","reportUrl":"../3277//#testresult/f663b8f9e242b5fa","status":"passed","time":{"start":1758765061857,"stop":1758765319809,"duration":257952}},{"uid":"c4a5293a7cfae9f6","reportUrl":"../3271//#testresult/c4a5293a7cfae9f6","status":"passed","time":{"start":1758680098065,"stop":1758680370884,"duration":272819}},{"uid":"b23bc4ad06842edd","reportUrl":"../3262//#testresult/b23bc4ad06842edd","status":"passed","time":{"start":1758595978570,"stop":1758596205709,"duration":227139}},{"uid":"334b67ff6db6c59e","reportUrl":"../3255//#testresult/334b67ff6db6c59e","status":"passed","time":{"start":1758506377579,"stop":1758506638062,"duration":260483}},{"uid":"59fcfda8f3389c87","reportUrl":"../3254//#testresult/59fcfda8f3389c87","status":"broken","statusDetails":"jubilant._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1758419696932,"stop":1758419796642,"duration":99710}},{"uid":"c7d88cd39b855545","reportUrl":"../3253//#testresult/c7d88cd39b855545","status":"passed","time":{"start":1758333337460,"stop":1758333635503,"duration":298043}}]},"tags":["abort_on_fail"]},"source":"7d6bc67df16b3187.json","parameterValues":[]}