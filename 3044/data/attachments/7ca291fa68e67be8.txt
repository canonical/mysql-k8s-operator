[32mINFO    [0m integration.backups:backups.py:125 Creating backup
[32mINFO    [0m integration.backups:backups.py:129 Creating test data 1
[32mINFO    [0m mysql.connector:authentication.py:66 package: mysql.connector.plugins
[32mINFO    [0m mysql.connector:authentication.py:67 plugin_name: caching_sha2_password
[32mINFO    [0m mysql.connector:authentication.py:71 AUTHENTICATION_PLUGIN_CLASS: MySQLCachingSHA2PasswordAuthPlugin
[32mINFO    [0m integration.backups:backups.py:145 Creating test data 2
[32mINFO    [0m integration.backups:backups.py:157 Scaling down to 1 unit
[32mINFO    [0m juju.model:model.py:3211 Waiting for model:
  mysql-k8s (waiting for exactly 1 units, current : 3)
[32mINFO    [0m juju.model:model.py:3211 Waiting for model:
  mysql-k8s (waiting for exactly 1 units, current : 3)
[32mINFO    [0m juju.model:model.py:3211 Waiting for model:
  mysql-k8s/0 [executing] active: 
[32mINFO    [0m integration.backups:backups.py:169 Restoring backup 2025-07-04T01:31:47Z with bad restore-to-time parameter
[32mINFO    [0m integration.backups:backups.py:178 Restoring backup 2025-07-04T01:31:47Z with year_before restore-to-time parameter
[32mINFO    [0m juju.model:model.py:3211 Waiting for model:
  mysql-k8s/0 [executing] active: Primary
  s3-integrator/0 [idle] active: 
[32mINFO    [0m juju.model:model.py:3211 Waiting for model:
  mysql-k8s/0 [idle] active: Primary
[32mINFO    [0m integration.backups:backups.py:190 Restoring backup 2025-07-04T01:31:47Z with year_after restore-to-time parameter
[32mINFO    [0m juju.model:model.py:3211 Waiting for model:
  mysql-k8s/0 [idle] active: Primary
  s3-integrator/0 [idle] active: 
[32mINFO    [0m integration.backups:backups.py:202 Restoring backup 2025-07-04T01:31:47Z with actual restore-to-time parameter
[32mINFO    [0m juju.model:model.py:3211 Waiting for model:
  mysql-k8s/0 [executing] active: Primary
  s3-integrator/0 [idle] active: 
[32mINFO    [0m integration.backups:backups.py:214 Restoring backup 2025-07-04T01:31:47Z with restore-to-time=latest parameter
[32mINFO    [0m juju.model:model.py:3211 Waiting for model:
  mysql-k8s/0 [executing] active: Primary
  s3-integrator/0 [idle] active: 
[32mINFO    [0m integration.backups:backups.py:38 Cleaning backups from cloud buckets
[32mINFO    [0m pytest_operator.plugin:plugin.py:790 Model status:

Model    Controller          Cloud/Region        Version  SLA          Timestamp
testing  concierge-microk8s  microk8s/localhost  3.6.7    unsupported  01:36:29Z

App            Version                  Status   Scale  Charm          Channel        Rev  Address         Exposed  Message
mysql-k8s      8.0.41-0ubuntu0.22.04.1  blocked      1  mysql-k8s                       0  10.152.183.41   no       Move restored cluster to another S3 repository
s3-integrator                           active       1  s3-integrator  latest/stable  145  10.152.183.120  no       

Unit              Workload  Agent  Address     Ports  Message
mysql-k8s/0*      active    idle   10.1.32.76         Primary
s3-integrator/0*  active    idle   10.1.32.72         

[32mINFO    [0m pytest_operator.plugin:plugin.py:796 Juju error logs:

unit-mysql-k8s-2: 01:32:05 ERROR unit.mysql-k8s/2.juju-log Failed to execute mysql-shell command
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-mysql-k8s-2/charm/src/mysql_k8s_helpers.py", line 724, in _run_mysqlsh_script
    stdout, _ = process.wait_output()
  File "/var/lib/juju/agents/unit-mysql-k8s-2/charm/venv/lib/python3.10/site-packages/ops/pebble.py", line 1771, in wait_output
    raise ExecError[AnyStr](self._command, exit_code, out_value, err_value)
ops.pebble.ExecError: non-zero exit code 1 executing ['/usr/bin/mysqlsh', '--passwords-from-stdin', '--uri=serverconfig@mysql-k8s-1.mysql-k8s-endpoints.testing.svc.cluster.local.:33062', '--python', '--verbose=0', '-c', 'shell.options.set(\'useWizards\', False)\nprint(\'###\')\nsession.run_sql("UPDATE mysql.juju_units_operations SET executor=\'mysql-k8s-2\', status=\'in-progress\' WHERE task=\'unit-teardown\' AND executor=\'\';")\nacquired_lock = session.run_sql("SELECT count(*) FROM mysql.juju_units_operations WHERE task=\'unit-teardown\' AND executor=\'mysql-k8s-2\';").fetch_one()[0]\nprint(f\'<ACQUIRED_LOCK>{acquired_lock}</ACQUIRED_LOCK>\')'], stdout="\x1b[1mPlease provide the password for 'serverconfig@mysql-k8s-1.mysql-k8s-endpoints.testing.svc.cluster.local.:33062': \x1b[0m###\n", stderr='Cannot set LC_ALL to locale en_US.UTF-8: No such file or directory\nTraceback (most recent call last):\n  File "<string>", line 3, in <module>\nmysqlsh.DBError: MySQL Error (1290): ClassicSession.run_sql: The MySQL server is running with the --super-read-only option so it cannot execute this statement\n'

[32mINFO    [0m pytest_operator.plugin:plugin.py:862 Forgetting main...