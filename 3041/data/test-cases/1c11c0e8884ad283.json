{"uid":"1c11c0e8884ad283","name":"test_graceful_crash_of_primary","fullName":"tests.integration.high_availability.test_self_healing_stop_primary#test_graceful_crash_of_primary","historyId":"4fb7e1b218f25777bfb277d1e637c673","time":{"start":1751506352124,"stop":1751506430202,"duration":78078},"description":"Test to send SIGTERM to primary instance and then verify recovery.","descriptionHtml":"<p>Test to send SIGTERM to primary instance and then verify recovery.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1751506156695,"stop":1751506156695,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1751506156695,"stop":1751506156695,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1751506156695,"stop":1751506156901,"duration":206},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1751506156695,"stop":1751506156695,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1751506156902,"stop":1751506348059,"duration":191157},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1751506348060,"stop":1751506348060,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1751506348060,"stop":1751506350101,"duration":2041},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"credentials","time":{"start":1751506350101,"stop":1751506352123,"duration":2022},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to send SIGTERM to primary instance and then verify recovery.","status":"passed","steps":[],"attachments":[{"uid":"5fe289aa4b298d3a","name":"log","source":"5fe289aa4b298d3a.txt","type":"text/plain","size":8163}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"credentials::finalizer","time":{"start":1751506430203,"stop":1751506430203,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1751506430203,"stop":1751506431232,"duration":1029},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1751506431232,"stop":1751506431232,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1751506431232,"stop":1751506431232,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1751506431233,"stop":1751506431546,"duration":313},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1751506431546,"stop":1751506431546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1751506431547,"stop":1751506431547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1751506431547,"stop":1751506431547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_self_healing_stop_primary"},{"name":"host","value":"pkrvmbietmlfzoi"},{"name":"thread","value":"18842-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_self_healing_stop_primary"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c9bbb2a86e06198c","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":112,"unknown":8,"total":124},"items":[{"uid":"2231bcd504633a2e","reportUrl":"../3037//#testresult/2231bcd504633a2e","status":"passed","time":{"start":1751419960981,"stop":1751420039090,"duration":78109}},{"uid":"87d228b62261b09","reportUrl":"../3030//#testresult/87d228b62261b09","status":"unknown","time":{}},{"uid":"6145a2338afdf0de","reportUrl":"../3027//#testresult/6145a2338afdf0de","status":"unknown","time":{}},{"uid":"44f5495f78ed134d","reportUrl":"../3026//#testresult/44f5495f78ed134d","status":"unknown","time":{}},{"uid":"3f3b5696014e68d1","reportUrl":"../3025//#testresult/3f3b5696014e68d1","status":"unknown","time":{}},{"uid":"422efe05ae19ceab","reportUrl":"../3024//#testresult/422efe05ae19ceab","status":"unknown","time":{}},{"uid":"2b0d1c5ed5290aa8","reportUrl":"../3022//#testresult/2b0d1c5ed5290aa8","status":"unknown","time":{}},{"uid":"14fd3d644a63bb4b","reportUrl":"../3021//#testresult/14fd3d644a63bb4b","status":"unknown","time":{}},{"uid":"c244ad86722897d2","reportUrl":"../3019//#testresult/c244ad86722897d2","status":"passed","time":{"start":1750728719688,"stop":1750728798859,"duration":79171}},{"uid":"b5079b492be0b687","reportUrl":"../3015//#testresult/b5079b492be0b687","status":"passed","time":{"start":1750642401397,"stop":1750642479516,"duration":78119}},{"uid":"462a5df7a260938f","reportUrl":"../3014//#testresult/462a5df7a260938f","status":"passed","time":{"start":1750555910622,"stop":1750555988598,"duration":77976}},{"uid":"b2776b671f0db700","reportUrl":"../3013//#testresult/b2776b671f0db700","status":"passed","time":{"start":1750469484995,"stop":1750469595386,"duration":110391}},{"uid":"7cac06e98b8b4f0a","reportUrl":"../3010//#testresult/7cac06e98b8b4f0a","status":"passed","time":{"start":1750383102903,"stop":1750383171748,"duration":68845}},{"uid":"5a9fb99c108c39a","reportUrl":"../3009//#testresult/5a9fb99c108c39a","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\nmysql-k8s/0 [idle] error: unknown container reason \"ImagePullBackOff\": Back-off pulling image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": ErrImagePull: rpc error: code = FailedPrecondition desc = failed to pull and unpack image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": failed commit on ref \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\": \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\" failed size validation: 288806 != 3117: failed precondition\n  mysql-k8s/1 [idle] error: unknown container reason \"ImagePullBackOff\": Back-off pulling image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": ErrImagePull: rpc error: code = FailedPrecondition desc = failed to pull and unpack image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": failed commit on ref \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\": \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\" failed size validation: 288806 != 3117: failed precondition\n  mysql-k8s/2 [idle] error: unknown container reason \"ImagePullBackOff\": Back-off pulling image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": ErrImagePull: rpc error: code = FailedPrecondition desc = failed to pull and unpack image \"docker.io/jujusolutions/charm-base:ubuntu-22.04\": failed commit on ref \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\": \"index-sha256:5ff8ce2dd5000378cdcc12998cf5b8b6b10d7193e47acb2945f61ae1ebd1a448\" failed size validation: 288806 != 3117: failed precondition","time":{"start":1750296512803,"stop":1750296512803,"duration":0}},{"uid":"a17f0254fd730a40","reportUrl":"../3007//#testresult/a17f0254fd730a40","status":"passed","time":{"start":1750210314974,"stop":1750210413317,"duration":98343}},{"uid":"2fe60b1f43b585f5","reportUrl":"../3002//#testresult/2fe60b1f43b585f5","status":"passed","time":{"start":1750123948449,"stop":1750124006381,"duration":57932}},{"uid":"e57b65058dc88fde","reportUrl":"../3001//#testresult/e57b65058dc88fde","status":"passed","time":{"start":1750037541216,"stop":1750037629421,"duration":88205}},{"uid":"4804fb990f29375b","reportUrl":"../3000//#testresult/4804fb990f29375b","status":"passed","time":{"start":1749951141263,"stop":1749951219256,"duration":77993}},{"uid":"c1466ac92284926c","reportUrl":"../2999//#testresult/c1466ac92284926c","status":"passed","time":{"start":1749864691702,"stop":1749864835929,"duration":144227}},{"uid":"fdf744ffea927bbd","reportUrl":"../2998//#testresult/fdf744ffea927bbd","status":"passed","time":{"start":1749778341664,"stop":1749778419935,"duration":78271}}]},"tags":["asyncio"]},"source":"1c11c0e8884ad283.json","parameterValues":[]}