{"uid":"1194515c71c0beb5","name":"test_scale_out","fullName":"tests.integration.test_multi_relations#test_scale_out","historyId":"a6ad709962481d68f3c7e0995010494f","time":{"start":1745026312010,"stop":1745028112146,"duration":1800136},"description":"Scale database and routers.","descriptionHtml":"<p>Scale database and routers.</p>\n","status":"broken","statusMessage":"TimeoutError","statusTrace":"Traceback (most recent call last):\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 136, in _block\n    await asyncio.sleep(wait_period)\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 665, in sleep\n    return await future\n           ^^^^^^^^^^^^\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_multi_relations.py\", line 74, in test_scale_out\n    await ops_test.model.block_until(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 1153, in block_until\n    await utils.block_until(done, timeout=timeout, wait_period=wait_period)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 138, in block_until\n    await asyncio.shield(asyncio.wait_for(_block(), timeout))\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 519, in wait_for\n    async with timeouts.timeout(timeout):\n  File \"/usr/lib/python3.12/asyncio/timeouts.py\", line 115, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1745026131721,"stop":1745026131721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1745026131722,"stop":1745026131722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1745026131722,"stop":1745026131916,"duration":194},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1745026312009,"stop":1745026312009,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1745028112177,"stop":1745028112177,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1745028112474,"stop":1745028116937,"duration":4463},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1745028116937,"stop":1745028116938,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1745028116938,"stop":1745028116938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1745028116938,"stop":1745028116939,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_multi_relations"},{"name":"host","value":"fv-az2020-361"},{"name":"thread","value":"18467-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_multi_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"f38ff876813f3409","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":2,"skipped":2,"passed":189,"unknown":5,"total":198},"items":[{"uid":"d11082121c08a1b","reportUrl":"../2907//#testresult/d11082121c08a1b","status":"passed","time":{"start":1744939886941,"stop":1744940342238,"duration":455297}},{"uid":"66b258a94df9dc40","reportUrl":"../2906//#testresult/66b258a94df9dc40","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1744854831260,"stop":1744854831260,"duration":0}},{"uid":"a32b86d0c3eada5","reportUrl":"../2905//#testresult/a32b86d0c3eada5","status":"passed","time":{"start":1744767115937,"stop":1744767581172,"duration":465235}},{"uid":"4d7b368de2022db4","reportUrl":"../2901//#testresult/4d7b368de2022db4","status":"passed","time":{"start":1744680761644,"stop":1744681246893,"duration":485249}},{"uid":"c331f25f9dd7a818","reportUrl":"../2897//#testresult/c331f25f9dd7a818","status":"passed","time":{"start":1744335088771,"stop":1744335559073,"duration":470302}},{"uid":"97b9623140295f23","reportUrl":"../2896//#testresult/97b9623140295f23","status":"passed","time":{"start":1744248681938,"stop":1744249157184,"duration":475246}},{"uid":"12e2447e6e50a579","reportUrl":"../2895//#testresult/12e2447e6e50a579","status":"passed","time":{"start":1744162345481,"stop":1744162830725,"duration":485244}},{"uid":"1ad9f81ed3d91caf","reportUrl":"../2889//#testresult/1ad9f81ed3d91caf","status":"passed","time":{"start":1744075859576,"stop":1744076329873,"duration":470297}},{"uid":"c5d40cf1e8931e30","reportUrl":"../2888//#testresult/c5d40cf1e8931e30","status":"passed","time":{"start":1743989557582,"stop":1743990047872,"duration":490290}},{"uid":"cb7913286c8538c0","reportUrl":"../2887//#testresult/cb7913286c8538c0","status":"passed","time":{"start":1743903153048,"stop":1743903628322,"duration":475274}},{"uid":"cb2d56f157d835b4","reportUrl":"../2886//#testresult/cb2d56f157d835b4","status":"passed","time":{"start":1743816696340,"stop":1743817186581,"duration":490241}},{"uid":"d81319277ac4632c","reportUrl":"../2885//#testresult/d81319277ac4632c","status":"passed","time":{"start":1743730357982,"stop":1743730848257,"duration":490275}},{"uid":"95ea96591ba32ff2","reportUrl":"../2884//#testresult/95ea96591ba32ff2","status":"passed","time":{"start":1743643934033,"stop":1743644444450,"duration":510417}},{"uid":"ef1c6ef8562745a5","reportUrl":"../2883//#testresult/ef1c6ef8562745a5","status":"passed","time":{"start":1743557525009,"stop":1743557990269,"duration":465260}},{"uid":"6303a19668ee7cfb","reportUrl":"../2879//#testresult/6303a19668ee7cfb","status":"passed","time":{"start":1743471135743,"stop":1743471605971,"duration":470228}},{"uid":"32da025e02ae0a3f","reportUrl":"../2877//#testresult/32da025e02ae0a3f","status":"passed","time":{"start":1743384703238,"stop":1743385188492,"duration":485254}},{"uid":"19e4d729bf737f1a","reportUrl":"../2876//#testresult/19e4d729bf737f1a","status":"passed","time":{"start":1743298311860,"stop":1743298782133,"duration":470273}},{"uid":"86c358859667ae0","reportUrl":"../2875//#testresult/86c358859667ae0","status":"passed","time":{"start":1743211870187,"stop":1743212350461,"duration":480274}},{"uid":"ef911292d118a5cf","reportUrl":"../2873//#testresult/ef911292d118a5cf","status":"passed","time":{"start":1743125531122,"stop":1743126006392,"duration":475270}},{"uid":"404614b957e2d3f7","reportUrl":"../2872//#testresult/404614b957e2d3f7","status":"passed","time":{"start":1743039116526,"stop":1743039576761,"duration":460235}}]},"tags":["asyncio","abort_on_fail"]},"source":"1194515c71c0beb5.json","parameterValues":[]}