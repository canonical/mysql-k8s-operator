{"uid":"4dcb301e8687b78c","name":"test_scale_out","fullName":"tests.integration.test_multi_relations#test_scale_out","historyId":"a6ad709962481d68f3c7e0995010494f","time":{"start":1746408710603,"stop":1746410510738,"duration":1800135},"description":"Scale database and routers.","descriptionHtml":"<p>Scale database and routers.</p>\n","status":"broken","statusMessage":"TimeoutError","statusTrace":"Traceback (most recent call last):\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 136, in _block\n    await asyncio.sleep(wait_period)\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 665, in sleep\n    return await future\n           ^^^^^^^^^^^^\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_multi_relations.py\", line 74, in test_scale_out\n    await ops_test.model.block_until(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 1153, in block_until\n    await utils.block_until(done, timeout=timeout, wait_period=wait_period)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 138, in block_until\n    await asyncio.shield(asyncio.wait_for(_block(), timeout))\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 519, in wait_for\n    async with timeouts.timeout(timeout):\n  File \"/usr/lib/python3.12/asyncio/timeouts.py\", line 115, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1746408527006,"stop":1746408527007,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1746408527007,"stop":1746408527207,"duration":200},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1746408527007,"stop":1746408527007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1746408710603,"stop":1746408710603,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1746410510806,"stop":1746410510806,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1746410510814,"stop":1746410514760,"duration":3946},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1746410514763,"stop":1746410514764,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1746410514764,"stop":1746410514765,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1746410514765,"stop":1746410514766,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_multi_relations"},{"name":"host","value":"fv-az1779-800"},{"name":"thread","value":"17806-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_multi_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"84ff4b461769b7cc","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":3,"skipped":2,"passed":203,"unknown":5,"total":213},"items":[{"uid":"76378c6f89c043ba","reportUrl":"../2929//#testresult/76378c6f89c043ba","status":"passed","time":{"start":1746322358560,"stop":1746322848911,"duration":490351}},{"uid":"463ec89be5650655","reportUrl":"../2928//#testresult/463ec89be5650655","status":"passed","time":{"start":1746235905243,"stop":1746236395534,"duration":490291}},{"uid":"6dcb39998a34c1f","reportUrl":"../2927//#testresult/6dcb39998a34c1f","status":"passed","time":{"start":1746149516841,"stop":1746150002159,"duration":485318}},{"uid":"6e40539c74f5b0bf","reportUrl":"../2926//#testresult/6e40539c74f5b0bf","status":"passed","time":{"start":1746063148356,"stop":1746063633735,"duration":485379}},{"uid":"3b2bcd8f5293afd3","reportUrl":"../2921//#testresult/3b2bcd8f5293afd3","status":"passed","time":{"start":1745890483401,"stop":1745890963648,"duration":480247}},{"uid":"c0007aff331a2979","reportUrl":"../2920//#testresult/c0007aff331a2979","status":"passed","time":{"start":1745803958100,"stop":1745804428307,"duration":470207}},{"uid":"88a95f24d836d0a7","reportUrl":"../2919//#testresult/88a95f24d836d0a7","status":"passed","time":{"start":1745717572795,"stop":1745718058091,"duration":485296}},{"uid":"3849cf9ddb22bb00","reportUrl":"../2918//#testresult/3849cf9ddb22bb00","status":"passed","time":{"start":1745631110407,"stop":1745631575725,"duration":465318}},{"uid":"5971a0cb026863f9","reportUrl":"../2917//#testresult/5971a0cb026863f9","status":"passed","time":{"start":1745544692199,"stop":1745545167520,"duration":475321}},{"uid":"a8c2c930843015","reportUrl":"../2916//#testresult/a8c2c930843015","status":"passed","time":{"start":1745458289609,"stop":1745458784971,"duration":495362}},{"uid":"eab3aaf939995015","reportUrl":"../2915//#testresult/eab3aaf939995015","status":"passed","time":{"start":1745371927907,"stop":1745372388204,"duration":460297}},{"uid":"8b13c24ebc07b6c0","reportUrl":"../2911//#testresult/8b13c24ebc07b6c0","status":"passed","time":{"start":1745285512280,"stop":1745285992543,"duration":480263}},{"uid":"77db7cf80e201dba","reportUrl":"../2910//#testresult/77db7cf80e201dba","status":"passed","time":{"start":1745199132181,"stop":1745199637481,"duration":505300}},{"uid":"6d46b40249244278","reportUrl":"../2909//#testresult/6d46b40249244278","status":"passed","time":{"start":1745112698664,"stop":1745113168933,"duration":470269}},{"uid":"1194515c71c0beb5","reportUrl":"../2908//#testresult/1194515c71c0beb5","status":"broken","statusDetails":"TimeoutError","time":{"start":1745026312010,"stop":1745028112146,"duration":1800136}},{"uid":"d11082121c08a1b","reportUrl":"../2907//#testresult/d11082121c08a1b","status":"passed","time":{"start":1744939886941,"stop":1744940342238,"duration":455297}},{"uid":"66b258a94df9dc40","reportUrl":"../2906//#testresult/66b258a94df9dc40","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1744854831260,"stop":1744854831260,"duration":0}},{"uid":"a32b86d0c3eada5","reportUrl":"../2905//#testresult/a32b86d0c3eada5","status":"passed","time":{"start":1744767115937,"stop":1744767581172,"duration":465235}},{"uid":"4d7b368de2022db4","reportUrl":"../2901//#testresult/4d7b368de2022db4","status":"passed","time":{"start":1744680761644,"stop":1744681246893,"duration":485249}},{"uid":"c331f25f9dd7a818","reportUrl":"../2897//#testresult/c331f25f9dd7a818","status":"passed","time":{"start":1744335088771,"stop":1744335559073,"duration":470302}}]},"tags":["asyncio","abort_on_fail"]},"source":"4dcb301e8687b78c.json","parameterValues":[]}