[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:409 Deploying a new mysql cluster
[32mINFO    [0m jubilant:_juju.py:316 cli: juju deploy --model testing ./mysql-k8s_ubuntu@22.04-amd64.charm another-mysql-k8s --base ubuntu@22.04 --config cluster-name=test_cluster --config profile=testing --resource mysql-image=ghcr.io/canonical/charmed-mysql@sha256:672f20830d66678a3ece7285048700d6e52a9393202eb51e9749eb35031559c4 --trust
[32mINFO    [0m jubilant:_juju.py:316 cli: juju integrate --model testing another-mysql-k8s s3-integrator
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:438 Rotating all mysql credentials
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-cluster-status --wait 300s --params /root/snap/juju/common/tmpao02r7g9
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 set-password --params /root/snap/juju/common/tmpmwbwbjwm
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 set-password --params /root/snap/juju/common/tmpdq0gqbkq
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 set-password --params /root/snap/juju/common/tmpsqbdtjj3
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-password --params /root/snap/juju/common/tmpp6webfzz
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:454 Syncing credentials
[32mINFO    [0m jubilant:_juju.py:316 cli: juju config --model testing s3-integrator endpoint=http://10.1.0.150 bucket=testbucket path=mysql-k8s region=
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json s3-integrator/0 sync-s3-credentials --params /root/snap/juju/common/tmpe7uj0e5d
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:471 Waiting for blocked application status with another cluster S3 repository
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:479 Restoring backup_id='2026-01-20T02:01:03Z'
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 restore --params /root/snap/juju/common/tmp4xmavwaw
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:484 Ensuring that the pre-backup inserted value exists in database, while post-backup inserted value does not
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:498 Inserting value after restore
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-cluster-status --wait 300s --params /root/snap/juju/common/tmpj0qhhjly
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-password --params /root/snap/juju/common/tmpeypo1ado
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju run --model testing --format json another-mysql-k8s/0 get-password --params /root/snap/juju/common/tmpmwvnqf0i
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:513 Ensuring that pre-backup and post-restore values exist in the database
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:524 Scaling mysql application to 3 units
[32mINFO    [0m jubilant:_juju.py:316 cli: juju add-unit --model testing another-mysql-k8s --num-units 2
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:537 Ensuring inserted values before backup and after restore exist on all units
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m jubilant:_juju.py:316 cli: juju status --model testing --format json
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:550 Waiting for blocked application status after restore
[32mINFO    [0m jubilant:_juju.py:316 cli: juju debug-log --model testing --limit 1000
[32mINFO    [0m integration.integration.test_backup_ceph:test_backup_ceph.py:152 Cleaning backups from buckets