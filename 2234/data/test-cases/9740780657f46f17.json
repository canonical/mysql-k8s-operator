{"uid":"9740780657f46f17","name":"test_no_replication_across_clusters","fullName":"tests.integration.high_availability.test_replication#test_no_replication_across_clusters","historyId":"8febd5bb24374b092e2d17affcf9a665","time":{"start":1724981662162,"stop":1724981755057,"duration":92895},"description":"Test to ensure that writes to one cluster do not replicate to another cluster.","descriptionHtml":"<p>Test to ensure that writes to one cluster do not replicate to another cluster.</p>\n","status":"failed","statusMessage":"AssertionError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 182, in pytest_runtest_teardown\n    item.session._setupstate.teardown_exact(nextitem)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 537, in teardown_exact\n    raise exceptions[0]\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 526, in teardown_exact\n    fin()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 701, in <lambda>\n    subrequest.node.addfinalizer(lambda: fixturedef.finish(request=subrequest))\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1031, in finish\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1024, in finish\n    func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 37, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\nAssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1724981466651,"stop":1724981466652,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1724981466652,"stop":1724981466927,"duration":275},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1724981466652,"stop":1724981466652,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1724981466927,"stop":1724981658090,"duration":191163},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1724981658090,"stop":1724981658090,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1724981658090,"stop":1724981660132,"duration":2042},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"credentials","time":{"start":1724981660133,"stop":1724981662161,"duration":2028},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to ensure that writes to one cluster do not replicate to another cluster.","status":"failed","statusMessage":"AssertionError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 182, in pytest_runtest_teardown\n    item.session._setupstate.teardown_exact(nextitem)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 537, in teardown_exact\n    raise exceptions[0]\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 526, in teardown_exact\n    fin()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 701, in <lambda>\n    subrequest.node.addfinalizer(lambda: fixturedef.finish(request=subrequest))\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1031, in finish\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1024, in finish\n    func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 37, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\nAssertionError","steps":[],"attachments":[{"uid":"b26a76da4276f680","name":"log","source":"b26a76da4276f680.txt","type":"text/plain","size":4142}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1724981755058,"stop":1724981756114,"duration":1056},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 37, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"credentials::finalizer","time":{"start":1724981755058,"stop":1724981755058,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1724981756115,"stop":1724981756116,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1724981756115,"stop":1724981756115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1724981756116,"stop":1724981756514,"duration":398},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1724981756515,"stop":1724981756515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1724981756515,"stop":1724981756515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1724981756515,"stop":1724981756516,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(2)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_replication"},{"name":"host","value":"fv-az732-725"},{"name":"thread","value":"13161-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d4d37a5c63b17f84","status":"unknown","time":{}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":9,"broken":0,"skipped":12,"passed":180,"unknown":0,"total":201},"items":[{"uid":"8ac14b0a2b5012ea","reportUrl":"../2230//#testresult/8ac14b0a2b5012ea","status":"failed","statusDetails":"AssertionError","time":{"start":1724895217417,"stop":1724895328814,"duration":111397}},{"uid":"2a067c8c9cd81496","reportUrl":"../2229//#testresult/2a067c8c9cd81496","status":"passed","time":{"start":1724808802288,"stop":1724808898407,"duration":96119}},{"uid":"6a45bc6524d180a0","reportUrl":"../2228//#testresult/6a45bc6524d180a0","status":"passed","time":{"start":1724722431821,"stop":1724722531762,"duration":99941}},{"uid":"4432e80183efa6ae","reportUrl":"../2221//#testresult/4432e80183efa6ae","status":"passed","time":{"start":1724549600377,"stop":1724549697363,"duration":96986}},{"uid":"413b69d8085d90eb","reportUrl":"../2213//#testresult/413b69d8085d90eb","status":"passed","time":{"start":1724376800877,"stop":1724376901814,"duration":100937}},{"uid":"5fe1c37d2d09c1f2","reportUrl":"../2205//#testresult/5fe1c37d2d09c1f2","status":"passed","time":{"start":1724290408591,"stop":1724290506655,"duration":98064}},{"uid":"8b2106aa6555e405","reportUrl":"../2198//#testresult/8b2106aa6555e405","status":"passed","time":{"start":1724204060628,"stop":1724204159195,"duration":98567}},{"uid":"fa8f6aeb74f5467e","reportUrl":"../2194//#testresult/fa8f6aeb74f5467e","status":"passed","time":{"start":1724117664307,"stop":1724117763055,"duration":98748}},{"uid":"156ab4484c850189","reportUrl":"../2191//#testresult/156ab4484c850189","status":"passed","time":{"start":1724031181409,"stop":1724031274582,"duration":93173}},{"uid":"7e120d077f8cffa9","reportUrl":"../2190//#testresult/7e120d077f8cffa9","status":"failed","statusDetails":"AssertionError","time":{"start":1723944875234,"stop":1723944993425,"duration":118191}},{"uid":"6d839f55b1469a88","reportUrl":"../2189//#testresult/6d839f55b1469a88","status":"passed","time":{"start":1723858403692,"stop":1723858506701,"duration":103009}},{"uid":"1a127087df9361e6","reportUrl":"../2186//#testresult/1a127087df9361e6","status":"passed","time":{"start":1723772003389,"stop":1723772098740,"duration":95351}},{"uid":"15a954058ccfb0b4","reportUrl":"../2183//#testresult/15a954058ccfb0b4","status":"passed","time":{"start":1723685600440,"stop":1723685697353,"duration":96913}},{"uid":"1fc28d1cb48b39f2","reportUrl":"../2178//#testresult/1fc28d1cb48b39f2","status":"passed","time":{"start":1723599680218,"stop":1723599783262,"duration":103044}},{"uid":"2bfba0b1b60dadaf","reportUrl":"../2173//#testresult/2bfba0b1b60dadaf","status":"passed","time":{"start":1723513278775,"stop":1723513382592,"duration":103817}},{"uid":"79704e773ac5edc5","reportUrl":"../2169//#testresult/79704e773ac5edc5","status":"passed","time":{"start":1723426607584,"stop":1723426711822,"duration":104238}},{"uid":"2922ddf42d9e60c2","reportUrl":"../2168//#testresult/2922ddf42d9e60c2","status":"passed","time":{"start":1723340532325,"stop":1723340624316,"duration":91991}},{"uid":"fc560ef79ab26ac6","reportUrl":"../2167//#testresult/fc560ef79ab26ac6","status":"failed","statusDetails":"AssertionError","time":{"start":1723254226888,"stop":1723254332334,"duration":105446}},{"uid":"f02011a1cb4130ce","reportUrl":"../2165//#testresult/f02011a1cb4130ce","status":"passed","time":{"start":1723167652833,"stop":1723167753197,"duration":100364}},{"uid":"65413e3dfad61ed2","reportUrl":"../2152//#testresult/65413e3dfad61ed2","status":"failed","statusDetails":"AssertionError","time":{"start":1722994966659,"stop":1722995071861,"duration":105202}}]},"tags":["asyncio","abort_on_fail","group(2)"]},"source":"9740780657f46f17.json","parameterValues":[]}