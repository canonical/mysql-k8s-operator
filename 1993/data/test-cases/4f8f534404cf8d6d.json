{"uid":"4f8f534404cf8d6d","name":"test_freeze_db_process","fullName":"tests.integration.high_availability.test_self_healing#test_freeze_db_process","historyId":"b33b65ac4f0681be9e85be8125dd3d99","time":{"start":1719019973395,"stop":1719020277512,"duration":304117},"description":"Test to send a SIGSTOP to the primary db process and ensure that the cluster self heals.","descriptionHtml":"<p>Test to send a SIGSTOP to the primary db process and ensure that the cluster self heals.</p>\n","status":"failed","statusMessage":"AssertionError: The deployed mysql application is not fully online\nassert False","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/test_self_healing.py\", line 120, in test_freeze_db_process\n    assert await ensure_n_online_mysql_members(\nAssertionError: The deployed mysql application is not fully online\nassert False","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1719019681442,"stop":1719019681737,"duration":295},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1719019681442,"stop":1719019681442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1719019681442,"stop":1719019681442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719019971354,"stop":1719019973395,"duration":2041},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719019971354,"stop":1719019971354,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to send a SIGSTOP to the primary db process and ensure that the cluster self heals.","status":"failed","statusMessage":"AssertionError: The deployed mysql application is not fully online\nassert False","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/test_self_healing.py\", line 120, in test_freeze_db_process\n    assert await ensure_n_online_mysql_members(\nAssertionError: The deployed mysql application is not fully online\nassert False","steps":[],"attachments":[{"uid":"f77d2fb7ebdb4ef4","name":"log","source":"f77d2fb7ebdb4ef4.txt","type":"text/plain","size":296}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1719020277516,"stop":1719020278538,"duration":1022},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719020278538,"stop":1719020278538,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1719020278547,"stop":1719020278875,"duration":328},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719020278876,"stop":1719020278876,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719020278876,"stop":1719020278876,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719020278876,"stop":1719020278876,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"unstable"},{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1040-726"},{"name":"thread","value":"12215-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"10823d54d87944fb","status":"unknown","time":{}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":9,"broken":29,"skipped":22,"passed":59,"unknown":0,"total":119},"items":[{"uid":"1a01b982adc29432","reportUrl":"../1990//#testresult/1a01b982adc29432","status":"passed","time":{"start":1718933610510,"stop":1718933986813,"duration":376303}},{"uid":"c6bf2c98ae25ec4d","reportUrl":"../1981//#testresult/c6bf2c98ae25ec4d","status":"passed","time":{"start":1718760783698,"stop":1718761076681,"duration":292983}},{"uid":"74cc9fce4098ac05","reportUrl":"../1979//#testresult/74cc9fce4098ac05","status":"passed","time":{"start":1718674399095,"stop":1718674695720,"duration":296625}},{"uid":"3e714b4aae3f019f","reportUrl":"../1977//#testresult/3e714b4aae3f019f","status":"passed","time":{"start":1718501640937,"stop":1718501765806,"duration":124869}},{"uid":"5fe91689bb4d4ceb","reportUrl":"../1976//#testresult/5fe91689bb4d4ceb","status":"passed","time":{"start":1718415233466,"stop":1718415363899,"duration":130433}},{"uid":"71c9f88fd933258f","reportUrl":"../1971//#testresult/71c9f88fd933258f","status":"passed","time":{"start":1718328836422,"stop":1718328962025,"duration":125603}},{"uid":"ad691f7b80bb155d","reportUrl":"../1964//#testresult/ad691f7b80bb155d","status":"skipped","statusDetails":"Skipped: async def function and no async plugin installed (see warnings)","time":{"start":1718242197565,"stop":1718242197565,"duration":0}},{"uid":"67957a5d2ce93d93","reportUrl":"../1953//#testresult/67957a5d2ce93d93","status":"skipped","statusDetails":"Skipped: async def function and no async plugin installed (see warnings)","time":{"start":1718155762484,"stop":1718155762485,"duration":1}},{"uid":"1c55280e4be8487a","reportUrl":"../1950//#testresult/1c55280e4be8487a","status":"skipped","statusDetails":"Skipped: async def function and no async plugin installed (see warnings)","time":{"start":1718069393659,"stop":1718069393659,"duration":0}},{"uid":"8c85ed9c95b1508a","reportUrl":"../1943//#testresult/8c85ed9c95b1508a","status":"skipped","statusDetails":"Skipped: async def function and no async plugin installed (see warnings)","time":{"start":1717982915310,"stop":1717982915310,"duration":0}},{"uid":"2fa3fc042815e19a","reportUrl":"../1942//#testresult/2fa3fc042815e19a","status":"skipped","statusDetails":"Skipped: async def function and no async plugin installed (see warnings)","time":{"start":1717896681068,"stop":1717896681068,"duration":0}},{"uid":"4ffa71b9cc16a13f","reportUrl":"../1940//#testresult/4ffa71b9cc16a13f","status":"skipped","statusDetails":"Skipped: async def function and no async plugin installed (see warnings)","time":{"start":1717810126033,"stop":1717810126033,"duration":0}},{"uid":"a4d6db1b18f87da2","reportUrl":"../1931//#testresult/a4d6db1b18f87da2","status":"passed","time":{"start":1717724032616,"stop":1717724398074,"duration":365458}},{"uid":"8a43abfa2303fd21","reportUrl":"../1928//#testresult/8a43abfa2303fd21","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1717637679920,"stop":1717637679920,"duration":0}},{"uid":"5da742563f32ec86","reportUrl":"../1923//#testresult/5da742563f32ec86","status":"passed","time":{"start":1717551190767,"stop":1717551315827,"duration":125060}},{"uid":"53fd8f3749b1b180","reportUrl":"../1916//#testresult/53fd8f3749b1b180","status":"passed","time":{"start":1717292032843,"stop":1717292161324,"duration":128481}},{"uid":"2c0909f3ea4c322e","reportUrl":"../1915//#testresult/2c0909f3ea4c322e","status":"passed","time":{"start":1717205674423,"stop":1717205808575,"duration":134152}},{"uid":"a595f2c7d1496422","reportUrl":"../1913//#testresult/a595f2c7d1496422","status":"passed","time":{"start":1717119133551,"stop":1717119434256,"duration":300705}},{"uid":"88c6dee122cf8119","reportUrl":"../1910//#testresult/88c6dee122cf8119","status":"passed","time":{"start":1717033323252,"stop":1717033447979,"duration":124727}},{"uid":"1980c0418334efb8","reportUrl":"../1908//#testresult/1980c0418334efb8","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fdee8db0d30 state=finished raised AssertionError>]","time":{"start":1716946465143,"stop":1716947418702,"duration":953559}}]},"tags":["unstable","asyncio","abort_on_fail","group(1)"]},"source":"4f8f534404cf8d6d.json","parameterValues":[]}