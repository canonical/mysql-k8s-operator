{"uid":"7d0c3ac32ee318ae","name":"test_scale_out","fullName":"tests.integration.test_multi_relations#test_scale_out","historyId":"a6ad709962481d68f3c7e0995010494f","time":{"start":1752283971149,"stop":1752285771316,"duration":1800167},"description":"Scale database and routers.","descriptionHtml":"<p>Scale database and routers.</p>\n","status":"broken","statusMessage":"TimeoutError","statusTrace":"Traceback (most recent call last):\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 520, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 136, in _block\n    await asyncio.sleep(wait_period)\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 665, in sleep\n    return await future\n           ^^^^^^^^^^^^\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_multi_relations.py\", line 74, in test_scale_out\n    await ops_test.model.block_until(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 1153, in block_until\n    await utils.block_until(done, timeout=timeout, wait_period=wait_period)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/utils.py\", line 138, in block_until\n    await asyncio.shield(asyncio.wait_for(_block(), timeout))\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 519, in wait_for\n    async with timeouts.timeout(timeout):\n  File \"/usr/lib/python3.12/asyncio/timeouts.py\", line 115, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1752283780304,"stop":1752283780512,"duration":208},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1752283780304,"stop":1752283780304,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1752283780304,"stop":1752283780304,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1752283971148,"stop":1752283971148,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1752285771345,"stop":1752285771345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1752285771349,"stop":1752285771828,"duration":479},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1752285771829,"stop":1752285771829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1752285771829,"stop":1752285771829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1752285771829,"stop":1752285771830,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_multi_relations"},{"name":"host","value":"pkrvmfkh1xnbeme"},{"name":"thread","value":"18755-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_multi_relations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8b610ffd9a11bd90","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":5,"skipped":3,"passed":259,"unknown":12,"total":279},"items":[{"uid":"cec96d77a6c55c7c","reportUrl":"../3059//#testresult/cec96d77a6c55c7c","status":"passed","time":{"start":1752197542892,"stop":1752198013181,"duration":470289}},{"uid":"64a43f10958c9347","reportUrl":"../3057//#testresult/64a43f10958c9347","status":"passed","time":{"start":1752111152113,"stop":1752111612405,"duration":460292}},{"uid":"ed4c37110723998e","reportUrl":"../3053//#testresult/ed4c37110723998e","status":"passed","time":{"start":1752024732871,"stop":1752025193182,"duration":460311}},{"uid":"65a6cbf212fea59a","reportUrl":"../3049//#testresult/65a6cbf212fea59a","status":"passed","time":{"start":1751938303941,"stop":1751938774236,"duration":470295}},{"uid":"d92cb210ce7eaf1a","reportUrl":"../3048//#testresult/d92cb210ce7eaf1a","status":"passed","time":{"start":1751851939047,"stop":1751852419471,"duration":480424}},{"uid":"8098a3757046279f","reportUrl":"../3047//#testresult/8098a3757046279f","status":"passed","time":{"start":1751765529115,"stop":1751765994462,"duration":465347}},{"uid":"9a1def8c2c03c145","reportUrl":"../3046//#testresult/9a1def8c2c03c145","status":"passed","time":{"start":1751679106891,"stop":1751679582156,"duration":475265}},{"uid":"f50cb9f13b261939","reportUrl":"../3044//#testresult/f50cb9f13b261939","status":"passed","time":{"start":1751592712578,"stop":1751593172825,"duration":460247}},{"uid":"c45487a93b2232d3","reportUrl":"../3041//#testresult/c45487a93b2232d3","status":"passed","time":{"start":1751506312610,"stop":1751506782892,"duration":470282}},{"uid":"31375b4c5dec3aab","reportUrl":"../3037//#testresult/31375b4c5dec3aab","status":"passed","time":{"start":1751419941029,"stop":1751420426345,"duration":485316}},{"uid":"78389ad74ef32ae1","reportUrl":"../3030//#testresult/78389ad74ef32ae1","status":"unknown","time":{}},{"uid":"b0571a5e04d4110c","reportUrl":"../3027//#testresult/b0571a5e04d4110c","status":"unknown","time":{}},{"uid":"77a422776506c3ea","reportUrl":"../3026//#testresult/77a422776506c3ea","status":"unknown","time":{}},{"uid":"f52528ca710aae3b","reportUrl":"../3025//#testresult/f52528ca710aae3b","status":"passed","time":{"start":1751074346925,"stop":1751074827214,"duration":480289}},{"uid":"33efa17e3e3989d9","reportUrl":"../3024//#testresult/33efa17e3e3989d9","status":"unknown","time":{}},{"uid":"7c9037492bfd4085","reportUrl":"../3022//#testresult/7c9037492bfd4085","status":"unknown","time":{}},{"uid":"a22fdc9bddfc6dab","reportUrl":"../3021//#testresult/a22fdc9bddfc6dab","status":"unknown","time":{}},{"uid":"c8dd44bf3e41e26c","reportUrl":"../3019//#testresult/c8dd44bf3e41e26c","status":"passed","time":{"start":1750728716993,"stop":1750729232326,"duration":515333}},{"uid":"f7327ce1dc80e621","reportUrl":"../3015//#testresult/f7327ce1dc80e621","status":"passed","time":{"start":1750642329754,"stop":1750642790035,"duration":460281}},{"uid":"cb22a762271c43e2","reportUrl":"../3014//#testresult/cb22a762271c43e2","status":"passed","time":{"start":1750555915067,"stop":1750556400351,"duration":485284}}]},"tags":["asyncio","abort_on_fail"]},"source":"7d0c3ac32ee318ae.json","parameterValues":[]}