{"uid":"7e05921b2782fc54","name":"test_saturate_max_connections","fullName":"tests.integration.test_saturate_max_connections#test_saturate_max_connections","historyId":"d26db47924cdcac8cef09121b26fd9a9","time":{"start":1729647314686,"stop":1729647315791,"duration":1105},"status":"broken","statusMessage":"mysql.connector.errors.DatabaseError: 1040: Too many connections","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/test_saturate_max_connections.py\", line 98, in test_saturate_max_connections\n    create_db_connections(1, **credentials)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/connector.py\", line 56, in create_db_connections\n    conn = mysql.connector.connect(\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/pooling.py\", line 294, in connect\n    return MySQLConnection(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/connection.py\", line 164, in __init__\n    self.connect(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/abstracts.py\", line 1181, in connect\n    self._open_connection()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/connection.py\", line 571, in _open_connection\n    self._do_handshake()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/connection.py\", line 195, in _do_handshake\n    raise get_exception(packet)\nmysql.connector.errors.DatabaseError: 1040: Too many connections","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1729647249194,"stop":1729647249194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1729647249194,"stop":1729647249194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1729647249194,"stop":1729647249456,"duration":262},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1729647314686,"stop":1729647314686,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"mysql.connector.errors.DatabaseError: 1040: Too many connections","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/test_saturate_max_connections.py\", line 98, in test_saturate_max_connections\n    create_db_connections(1, **credentials)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/connector.py\", line 56, in create_db_connections\n    conn = mysql.connector.connect(\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/pooling.py\", line 294, in connect\n    return MySQLConnection(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/connection.py\", line 164, in __init__\n    self.connect(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/abstracts.py\", line 1181, in connect\n    self._open_connection()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/connection.py\", line 571, in _open_connection\n    self._do_handshake()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/mysql/connector/connection.py\", line 195, in _do_handshake\n    raise get_exception(packet)\nmysql.connector.errors.DatabaseError: 1040: Too many connections","steps":[],"attachments":[{"uid":"aa656bde775ec0ad","name":"log","source":"aa656bde775ec0ad.txt","type":"text/plain","size":1712}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1729647315875,"stop":1729647315875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1729647315875,"stop":1729647316249,"duration":374},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1729647316250,"stop":1729647316250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1729647316250,"stop":1729647316250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1729647316250,"stop":1729647316250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_saturate_max_connections"},{"name":"host","value":"fv-az1535-978"},{"name":"thread","value":"13502-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_saturate_max_connections"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"abcdf920737f07b4","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":37,"unknown":0,"total":40},"items":[{"uid":"20e02e093a6291db","reportUrl":"../2384//#testresult/20e02e093a6291db","status":"passed","time":{"start":1729560693524,"stop":1729560697671,"duration":4147}},{"uid":"84ee83619bfd5315","reportUrl":"../2381//#testresult/84ee83619bfd5315","status":"passed","time":{"start":1729474339157,"stop":1729474343315,"duration":4158}},{"uid":"a6587eb236ff044e","reportUrl":"../2380//#testresult/a6587eb236ff044e","status":"passed","time":{"start":1729387971460,"stop":1729387975611,"duration":4151}},{"uid":"edc7a978c03bd122","reportUrl":"../2379//#testresult/edc7a978c03bd122","status":"passed","time":{"start":1729301490399,"stop":1729301493540,"duration":3141}},{"uid":"e537076a805d07c8","reportUrl":"../2375//#testresult/e537076a805d07c8","status":"passed","time":{"start":1729215116048,"stop":1729215121198,"duration":5150}},{"uid":"b628f30ed9b2622d","reportUrl":"../2371//#testresult/b628f30ed9b2622d","status":"passed","time":{"start":1729129058586,"stop":1729129061705,"duration":3119}},{"uid":"48267c82ec7fcccb","reportUrl":"../2367//#testresult/48267c82ec7fcccb","status":"passed","time":{"start":1728955967005,"stop":1728955970173,"duration":3168}},{"uid":"10ccfe556f8592d9","reportUrl":"../2366//#testresult/10ccfe556f8592d9","status":"passed","time":{"start":1728869516163,"stop":1728869519289,"duration":3126}},{"uid":"6cbc4bfa88a10ade","reportUrl":"../2364//#testresult/6cbc4bfa88a10ade","status":"broken","statusDetails":"mysql.connector.errors.OperationalError: 1040 (08004): Too many connections","time":{"start":1728783134921,"stop":1728783136020,"duration":1099}},{"uid":"b7fc23d2c96e4410","reportUrl":"../2363//#testresult/b7fc23d2c96e4410","status":"passed","time":{"start":1728696737210,"stop":1728696741355,"duration":4145}},{"uid":"c3a96027fb7bf4d8","reportUrl":"../2357//#testresult/c3a96027fb7bf4d8","status":"passed","time":{"start":1728610333794,"stop":1728610338938,"duration":5144}},{"uid":"6b9e133bd891c7de","reportUrl":"../2353//#testresult/6b9e133bd891c7de","status":"passed","time":{"start":1728524057182,"stop":1728524060307,"duration":3125}},{"uid":"69c69cc923e3ed4c","reportUrl":"../2350//#testresult/69c69cc923e3ed4c","status":"passed","time":{"start":1728437569173,"stop":1728437573312,"duration":4139}},{"uid":"225a66dab830335c","reportUrl":"../2348//#testresult/225a66dab830335c","status":"passed","time":{"start":1728351148444,"stop":1728351151580,"duration":3136}},{"uid":"82c8db30056e1302","reportUrl":"../2346//#testresult/82c8db30056e1302","status":"passed","time":{"start":1728264727660,"stop":1728264731804,"duration":4144}},{"uid":"2ba91767542916b2","reportUrl":"../2345//#testresult/2ba91767542916b2","status":"passed","time":{"start":1728178348247,"stop":1728178351394,"duration":3147}},{"uid":"30c902feb00b410a","reportUrl":"../2344//#testresult/30c902feb00b410a","status":"passed","time":{"start":1728091972678,"stop":1728091975850,"duration":3172}},{"uid":"b3d11a25299eb864","reportUrl":"../2340//#testresult/b3d11a25299eb864","status":"passed","time":{"start":1728005540908,"stop":1728005545053,"duration":4145}},{"uid":"2336fdc4d08e7790","reportUrl":"../2338//#testresult/2336fdc4d08e7790","status":"passed","time":{"start":1727919193685,"stop":1727919196820,"duration":3135}},{"uid":"44bae8eb72ab11d7","reportUrl":"../2332//#testresult/44bae8eb72ab11d7","status":"passed","time":{"start":1727833021725,"stop":1727833025875,"duration":4150}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"7e05921b2782fc54.json","parameterValues":[]}