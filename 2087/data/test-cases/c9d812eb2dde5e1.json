{"uid":"c9d812eb2dde5e1","name":"test_no_replication_across_clusters","fullName":"tests.integration.high_availability.test_replication#test_no_replication_across_clusters","historyId":"8febd5bb24374b092e2d17affcf9a665","time":{"start":1721356678893,"stop":1721356780006,"duration":101113},"description":"Test to ensure that writes to one cluster do not replicate to another cluster.","descriptionHtml":"<p>Test to ensure that writes to one cluster do not replicate to another cluster.</p>\n","status":"failed","statusMessage":"AssertionError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 182, in pytest_runtest_teardown\n    item.session._setupstate.teardown_exact(nextitem)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 537, in teardown_exact\n    raise exceptions[0]\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 526, in teardown_exact\n    fin()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 701, in <lambda>\n    subrequest.node.addfinalizer(lambda: fixturedef.finish(request=subrequest))\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1031, in finish\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1024, in finish\n    func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 34, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\nAssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1721356474283,"stop":1721356474283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1721356474284,"stop":1721356474552,"duration":268},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1721356474284,"stop":1721356474284,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1721356676853,"stop":1721356676853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1721356676854,"stop":1721356678892,"duration":2038},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to ensure that writes to one cluster do not replicate to another cluster.","status":"failed","statusMessage":"AssertionError","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 182, in pytest_runtest_teardown\n    item.session._setupstate.teardown_exact(nextitem)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 537, in teardown_exact\n    raise exceptions[0]\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 526, in teardown_exact\n    fin()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 701, in <lambda>\n    subrequest.node.addfinalizer(lambda: fixturedef.finish(request=subrequest))\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1031, in finish\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1024, in finish\n    func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 34, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\nAssertionError","steps":[],"attachments":[{"uid":"5ddc722895bb74d2","name":"log","source":"5ddc722895bb74d2.txt","type":"text/plain","size":720}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1721356780007,"stop":1721356781052,"duration":1045},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 34, in continuous_writes\n    await juju_.run_action(application_unit, \"clear-continuous-writes\")\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/juju_.py\", line 24, in run_action\n    assert result.results.get(\"return-code\") == 0\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1721356781053,"stop":1721356781053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1721357183321,"stop":1721357183680,"duration":359},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1721357183680,"stop":1721357183681,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1721357183681,"stop":1721357183681,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1721357183681,"stop":1721357183681,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_replication"},{"name":"host","value":"fv-az1200-817"},{"name":"thread","value":"12443-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"438584717f51f63f","status":"unknown","time":{}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":0,"skipped":9,"passed":150,"unknown":0,"total":163},"items":[{"uid":"db71ea03ab38be8e","reportUrl":"../2082//#testresult/db71ea03ab38be8e","status":"passed","time":{"start":1721266685340,"stop":1721266782702,"duration":97362}},{"uid":"e85edd9c2b478f77","reportUrl":"../2079//#testresult/e85edd9c2b478f77","status":"passed","time":{"start":1721180445525,"stop":1721180552527,"duration":107002}},{"uid":"ad9ab80f856426e9","reportUrl":"../2077//#testresult/ad9ab80f856426e9","status":"passed","time":{"start":1721093810478,"stop":1721093910405,"duration":99927}},{"uid":"83d114d17bbc1cf3","reportUrl":"../2071//#testresult/83d114d17bbc1cf3","status":"passed","time":{"start":1721007652459,"stop":1721007749590,"duration":97131}},{"uid":"7a4edb3121f5a67c","reportUrl":"../2070//#testresult/7a4edb3121f5a67c","status":"passed","time":{"start":1720921185672,"stop":1720921290212,"duration":104540}},{"uid":"ab2f55e53a07a3cf","reportUrl":"../2069//#testresult/ab2f55e53a07a3cf","status":"passed","time":{"start":1720834618434,"stop":1720834709576,"duration":91142}},{"uid":"70e17ce97b770579","reportUrl":"../2066//#testresult/70e17ce97b770579","status":"passed","time":{"start":1720748323378,"stop":1720748413238,"duration":89860}},{"uid":"3d661c4003d6e3f","reportUrl":"../2061//#testresult/3d661c4003d6e3f","status":"passed","time":{"start":1720575824296,"stop":1720575910580,"duration":86284}},{"uid":"2a1fcccbad6cb540","reportUrl":"../2054//#testresult/2a1fcccbad6cb540","status":"passed","time":{"start":1720489612183,"stop":1720489710299,"duration":98116}},{"uid":"e90fa57c3fd9d1f8","reportUrl":"../2052//#testresult/e90fa57c3fd9d1f8","status":"passed","time":{"start":1720402665037,"stop":1720402754650,"duration":89613}},{"uid":"f5bdf3759004bb2f","reportUrl":"../2051//#testresult/f5bdf3759004bb2f","status":"failed","statusDetails":"AssertionError","time":{"start":1720316336413,"stop":1720316431905,"duration":95492}},{"uid":"65a2c5edebfb527e","reportUrl":"../2050//#testresult/65a2c5edebfb527e","status":"passed","time":{"start":1720229803778,"stop":1720229892732,"duration":88954}},{"uid":"2d83a766166804fc","reportUrl":"../2046//#testresult/2d83a766166804fc","status":"passed","time":{"start":1720143440601,"stop":1720143528811,"duration":88210}},{"uid":"425c27729dee83d3","reportUrl":"../2040//#testresult/425c27729dee83d3","status":"passed","time":{"start":1720056956024,"stop":1720057050304,"duration":94280}},{"uid":"25cce493a64885bf","reportUrl":"../2033//#testresult/25cce493a64885bf","status":"passed","time":{"start":1719970843864,"stop":1719970935073,"duration":91209}},{"uid":"4de0a8dc9d6f82e9","reportUrl":"../2029//#testresult/4de0a8dc9d6f82e9","status":"passed","time":{"start":1719883971532,"stop":1719884070079,"duration":98547}},{"uid":"41c5f3eb7081e528","reportUrl":"../2022//#testresult/41c5f3eb7081e528","status":"passed","time":{"start":1719797653457,"stop":1719797747858,"duration":94401}},{"uid":"6df85b06878cf399","reportUrl":"../2021//#testresult/6df85b06878cf399","status":"passed","time":{"start":1719711126832,"stop":1719711220314,"duration":93482}},{"uid":"9c669d121a1663e2","reportUrl":"../2020//#testresult/9c669d121a1663e2","status":"passed","time":{"start":1719624763789,"stop":1719624870894,"duration":107105}},{"uid":"2d9d2796dceeca48","reportUrl":"../2016//#testresult/2d9d2796dceeca48","status":"failed","statusDetails":"AssertionError","time":{"start":1719538303649,"stop":1719538414713,"duration":111064}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"c9d812eb2dde5e1.json","parameterValues":[]}