{"uid":"d67332a559362e31","name":"test_cluster_failover_after_majority_loss","fullName":"tests.integration.integration.high_availability.test_primary_switchover#test_cluster_failover_after_majority_loss","historyId":"d5f0ac37b017e0503da9aa6d9054b576","time":{"start":1767923851096,"stop":1767924105095,"duration":253999},"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","descriptionHtml":"<p>Test the promote-to-primary command after losing the majority of nodes, with force flag.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1767923638316,"stop":1767923638631,"duration":315},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1767923638316,"stop":1767923638316,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1767923638316,"stop":1767923638316,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1767923638632,"stop":1767923638830,"duration":198},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1767923638632,"stop":1767923638632,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster","time":{"start":1767923638830,"stop":1767923837355,"duration":198525},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1767923851096,"stop":1767923851096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test the promote-to-primary command after losing the majority of nodes, with force flag.","status":"passed","steps":[],"attachments":[{"uid":"5c59bdf91efa88c4","name":"log","source":"5c59bdf91efa88c4.txt","type":"text/plain","size":17414}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1767924105095,"stop":1767924105095,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"highly_available_cluster::finalizer","time":{"start":1767924105096,"stop":1767924105096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1767924105097,"stop":1767924105566,"duration":469},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1767924105567,"stop":1767924105567,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1767924105567,"stop":1767924105567,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1767924105567,"stop":1767924105568,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1767924105568,"stop":1767924105793,"duration":225},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration.integration.high_availability"},{"name":"suite","value":"test_primary_switchover"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"18704-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integration.high_availability.test_primary_switchover"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"402137d679db31d6","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":6,"skipped":0,"passed":26,"unknown":0,"total":32},"items":[{"uid":"f7a185e74c7adfe0","reportUrl":"../56//#testresult/f7a185e74c7adfe0","status":"passed","time":{"start":1767751123812,"stop":1767751456991,"duration":333179}},{"uid":"d12af6cf67040c1e","reportUrl":"../55//#testresult/d12af6cf67040c1e","status":"passed","time":{"start":1767663842225,"stop":1767664097294,"duration":255069}},{"uid":"3f58ed2a0eb5cdd5","reportUrl":"../54//#testresult/3f58ed2a0eb5cdd5","status":"passed","time":{"start":1767578504993,"stop":1767578809133,"duration":304140}},{"uid":"edae96e1868a4c0d","reportUrl":"../53//#testresult/edae96e1868a4c0d","status":"passed","time":{"start":1767492219885,"stop":1767492441335,"duration":221450}},{"uid":"74b24e8e51c61206","reportUrl":"../52//#testresult/74b24e8e51c61206","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1767404745824,"stop":1767404849336,"duration":103512}},{"uid":"90d9e397fc750c34","reportUrl":"../51//#testresult/90d9e397fc750c34","status":"passed","time":{"start":1767318457527,"stop":1767318712901,"duration":255374}},{"uid":"318b592c1077c919","reportUrl":"../50//#testresult/318b592c1077c919","status":"passed","time":{"start":1767232013348,"stop":1767232268992,"duration":255644}},{"uid":"2b3a1b4b05335b8","reportUrl":"../49//#testresult/2b3a1b4b05335b8","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1767145749568,"stop":1767145874694,"duration":125126}},{"uid":"a07d9542dd42c022","reportUrl":"../48//#testresult/a07d9542dd42c022","status":"passed","time":{"start":1767059379482,"stop":1767059636279,"duration":256797}},{"uid":"1001a75296658230","reportUrl":"../47//#testresult/1001a75296658230","status":"passed","time":{"start":1766973054500,"stop":1766973367076,"duration":312576}},{"uid":"abcbb70e421de628","reportUrl":"../46//#testresult/abcbb70e421de628","status":"passed","time":{"start":1766886342266,"stop":1766886619035,"duration":276769}},{"uid":"95cdf6f0aeee731f","reportUrl":"../45//#testresult/95cdf6f0aeee731f","status":"passed","time":{"start":1766800081231,"stop":1766800327171,"duration":245940}},{"uid":"7b38afe3803dbd92","reportUrl":"../44//#testresult/7b38afe3803dbd92","status":"passed","time":{"start":1766713690117,"stop":1766713962681,"duration":272564}},{"uid":"c19c25b6e1dd5a8b","reportUrl":"../43//#testresult/c19c25b6e1dd5a8b","status":"passed","time":{"start":1766627435123,"stop":1766627724868,"duration":289745}},{"uid":"63ef2c6d6691a365","reportUrl":"../42//#testresult/63ef2c6d6691a365","status":"passed","time":{"start":1766540808491,"stop":1766541059623,"duration":251132}},{"uid":"8d2093db18e4bdeb","reportUrl":"../41//#testresult/8d2093db18e4bdeb","status":"passed","time":{"start":1766454337592,"stop":1766454573707,"duration":236115}},{"uid":"69adcdade931fa12","reportUrl":"../40//#testresult/69adcdade931fa12","status":"passed","time":{"start":1766368054076,"stop":1766368307021,"duration":252945}},{"uid":"a53412130963da18","reportUrl":"../39//#testresult/a53412130963da18","status":"passed","time":{"start":1766281825782,"stop":1766282078615,"duration":252833}},{"uid":"f1d9c68ac97beeb6","reportUrl":"../38//#testresult/f1d9c68ac97beeb6","status":"passed","time":{"start":1766195293512,"stop":1766195558837,"duration":265325}},{"uid":"8d71511c5e1d0a38","reportUrl":"../37//#testresult/8d71511c5e1d0a38","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 10: status 'failed', return code 0, details:\nResults: {'message': 'Unit is already primary', 'success': 'True'}\nMessage: Failed to force quorum from instance. See logs for more information.","time":{"start":1766110184900,"stop":1766110293153,"duration":108253}}]},"tags":["abort_on_fail"]},"source":"d67332a559362e31.json","parameterValues":[]}