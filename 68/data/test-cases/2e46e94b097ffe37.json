{"uid":"2e46e94b097ffe37","name":"test_data_replication","fullName":"tests.integration.integration.high_availability.test_async_replication_upgrade#test_data_replication","historyId":"46ac70d1ddded94132c60e6ba02bcf79","time":{"start":1768787810154,"stop":1768787831796,"duration":21642},"description":"Test to write to primary, and read the same data back from replicas.","descriptionHtml":"<p>Test to write to primary, and read the same data back from replicas.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1768786725244,"stop":1768786725548,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1768786725548,"stop":1768786725548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1768786725548,"stop":1768786725783,"duration":235},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1768787803637,"stop":1768787810153,"duration":6516},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1768787803637,"stop":1768787803637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test to write to primary, and read the same data back from replicas.","status":"passed","steps":[],"attachments":[{"uid":"8c0e9ba64b056ff3","name":"log","source":"8c0e9ba64b056ff3.txt","type":"text/plain","size":3462}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::0","time":{"start":1768787831797,"stop":1768787833007,"duration":1210},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::0","time":{"start":1768787833008,"stop":1768787954393,"duration":121385},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1768787833008,"stop":1768787833008,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model::0","time":{"start":1768787954394,"stop":1768787954394,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1768787954394,"stop":1768787954614,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3+')"},{"name":"parentSuite","value":"tests.integration.integration.high_availability"},{"name":"suite","value":"test_async_replication_upgrade"},{"name":"host","value":"runnervmmtnos"},{"name":"thread","value":"17937-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integration.high_availability.test_async_replication_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5bf53d428f6432f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":3,"broken":10,"skipped":0,"passed":25,"unknown":2,"total":40},"items":[{"uid":"f321a1f5a3fad836","reportUrl":"../67//#testresult/f321a1f5a3fad836","status":"passed","time":{"start":1768701571048,"stop":1768701590320,"duration":19272}},{"uid":"89687a79285a41e1","reportUrl":"../65//#testresult/89687a79285a41e1","status":"failed","statusDetails":"AssertionError: Data is not consistent across units\nassert False\n +  where False = all(<generator object test_data_replication.<locals>.<genexpr> at 0x7f1e18cb7780>)","time":{"start":1768528584647,"stop":1768528603891,"duration":19244}},{"uid":"ece55ecd25c082ed","reportUrl":"../64//#testresult/ece55ecd25c082ed","status":"passed","time":{"start":1768444614977,"stop":1768444635620,"duration":20643}},{"uid":"547dc6485d06cba9","reportUrl":"../63//#testresult/547dc6485d06cba9","status":"passed","time":{"start":1768357652456,"stop":1768357679893,"duration":27437}},{"uid":"86c379a7afabef77","reportUrl":"../61//#testresult/86c379a7afabef77","status":"broken","statusDetails":"mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'continuous_writes'","time":{"start":1768184964107,"stop":1768184979554,"duration":15447}},{"uid":"48a672cbc92f2b71","reportUrl":"../60//#testresult/48a672cbc92f2b71","status":"broken","statusDetails":"TimeoutError: timed out waiting for action, stderr:\nRunning operation 17 with 1 task\n  - task 18 on unit-db1-0\n\nWaiting for task 18...\nERROR timed out waiting for results from: unit db1/0","time":{"start":1768097263939,"stop":1768097331869,"duration":67930}},{"uid":"b2d2f3c19ba8196","reportUrl":"../59//#testresult/b2d2f3c19ba8196","status":"broken","statusDetails":"mysql.connector.errors.DatabaseError: 2003 (HY000): Can't connect to MySQL server on '10.1.141.146:3306' (111)","time":{"start":1768012588892,"stop":1768012604165,"duration":15273}},{"uid":"c4865d0c64e1062e","reportUrl":"../58//#testresult/c4865d0c64e1062e","status":"passed","time":{"start":1767924470763,"stop":1767924494667,"duration":23904}},{"uid":"bc6d6f46302d8f8e","reportUrl":"../56//#testresult/bc6d6f46302d8f8e","status":"passed","time":{"start":1767752017488,"stop":1767752036996,"duration":19508}},{"uid":"5197df3a344eef5","reportUrl":"../55//#testresult/5197df3a344eef5","status":"broken","statusDetails":"mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'continuous_writes'","time":{"start":1767664930646,"stop":1767664947203,"duration":16557}},{"uid":"4f3ff61c3f268938","reportUrl":"../54//#testresult/4f3ff61c3f268938","status":"failed","statusDetails":"AssertionError: Data is not consistent across units\nassert False\n +  where False = all(<generator object test_data_replication.<locals>.<genexpr> at 0x7f82014bf6b0>)","time":{"start":1767579103903,"stop":1767579125716,"duration":21813}},{"uid":"85f496b546e46891","reportUrl":"../53//#testresult/85f496b546e46891","status":"broken","statusDetails":"mysql.connector.errors.DatabaseError: 2003 (HY000): Can't connect to MySQL server on '10.1.206.83:3306' (111)","time":{"start":1767494164263,"stop":1767494180215,"duration":15952}},{"uid":"14d2458466ab940f","reportUrl":"../52//#testresult/14d2458466ab940f","status":"passed","time":{"start":1767405831220,"stop":1767405853258,"duration":22038}},{"uid":"e2540f80ceb4ecc4","reportUrl":"../51//#testresult/e2540f80ceb4ecc4","status":"passed","time":{"start":1767319426563,"stop":1767319450358,"duration":23795}},{"uid":"364d613325ccd81f","reportUrl":"../50//#testresult/364d613325ccd81f","status":"passed","time":{"start":1767232209225,"stop":1767232229265,"duration":20040}},{"uid":"1be67a31c91e0f39","reportUrl":"../49//#testresult/1be67a31c91e0f39","status":"broken","statusDetails":"mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'continuous_writes'","time":{"start":1767147366761,"stop":1767147382537,"duration":15776}},{"uid":"28841bc7d66f089d","reportUrl":"../48//#testresult/28841bc7d66f089d","status":"broken","statusDetails":"mysql.connector.errors.DatabaseError: 2003 (HY000): Can't connect to MySQL server on '10.1.206.83:3306' (111)","time":{"start":1767060732778,"stop":1767060748082,"duration":15304}},{"uid":"557fef8743dcc104","reportUrl":"../47//#testresult/557fef8743dcc104","status":"passed","time":{"start":1766973132492,"stop":1766973151868,"duration":19376}},{"uid":"3e43c50655a26991","reportUrl":"../46//#testresult/3e43c50655a26991","status":"passed","time":{"start":1766887111901,"stop":1766887131180,"duration":19279}},{"uid":"b5606ff7b82bcb00","reportUrl":"../45//#testresult/b5606ff7b82bcb00","status":"unknown","time":{}}]},"tags":["abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3+')"]},"source":"2e46e94b097ffe37.json","parameterValues":[]}