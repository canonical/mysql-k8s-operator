{"uid":"16b6e0cdf9beff5a","name":"test_create_replication","fullName":"tests.integration.high_availability.test_async_replication#test_create_replication","historyId":"581ebb01823861b11b1ec6ccbecf1fb4","time":{"start":1761271087954,"stop":1761271273077,"duration":185123},"description":"Run the create-replication action and wait for the applications to settle.","descriptionHtml":"<p>Run the create-replication action and wait for the applications to settle.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1761270811387,"stop":1761270811707,"duration":320},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1761270811707,"stop":1761270811708,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1761270811708,"stop":1761270811950,"duration":242},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1761271087954,"stop":1761271087954,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Run the create-replication action and wait for the applications to settle.","status":"passed","steps":[],"attachments":[{"uid":"aee75c8f53101c28","name":"log","source":"aee75c8f53101c28.txt","type":"text/plain","size":530}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1761271273078,"stop":1761271273078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::0","time":{"start":1761272006036,"stop":1761272127357,"duration":121321},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model::0","time":{"start":1761272127358,"stop":1761272127358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1761272127358,"stop":1761272127592,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3+')"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"18754-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c630e3c4a049aaa8","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":31,"skipped":33,"passed":387,"unknown":19,"total":470},"items":[{"uid":"df5c036239c0f24f","reportUrl":"../3358//#testresult/df5c036239c0f24f","status":"passed","time":{"start":1761184022872,"stop":1761184230142,"duration":207270}},{"uid":"76647e9070d1b85c","reportUrl":"../3355//#testresult/76647e9070d1b85c","status":"passed","time":{"start":1761104088196,"stop":1761104274197,"duration":186001}},{"uid":"1e8a19f502de9a10","reportUrl":"../3351//#testresult/1e8a19f502de9a10","status":"broken","statusDetails":"TimeoutError: wait timed out after 300s\nStatus(\n  model=ModelStatus(\n    name='testing-other',\n    type='caas',\n    controller='concierge-microk8s',\n    cloud='microk8s',\n    version='3.6.11',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='21 Oct 2025 01:51:04Z'),\n    sla='unsupported',\n  ),\n  machines={},\n  apps={\n    'db2': AppStatus(\n      charm='local:mysql-k8s-0',\n      charm_origin='local',\n      charm_name='mysql-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=3,\n      provider_id='feb6f7cb-cf51-485f-9c90-9c5cbfea4121',\n      address='10.152.183.175',\n      app_status=StatusInfo(current='maintenance', message='Recovering replica cluster', since='21 Oct 2025 01:56:32Z'),\n      relations={\n        'database-peers': [\n          AppStatusRelation(related_app='db2', interface='mysql_peers', scope='global'),\n        ],\n        'replication': [\n          AppStatusRelation(related_app='db1', interface='mysql_async', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='db2', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='db2', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'db2/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 02:01:31Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 02:01:35Z', version='3.6.11'),\n          address='10.1.113.146',\n          provider_id='db2-0',\n        ),\n        'db2/1': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='Waiting for recovery to complete on other units', since='21 Oct 2025 01:56:32Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 02:01:35Z', version='3.6.11'),\n          leader=True,\n          address='10.1.113.147',\n          provider_id='db2-1',\n        ),\n        'db2/2': UnitStatus(\n          workload_status=StatusInfo(current='maintenance', message='joining the cluster', since='21 Oct 2025 02:01:40Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 02:01:35Z', version='3.6.11'),\n          address='10.1.113.148',\n          provider_id='db2-2',\n        ),\n      },\n      version='8.0.42-0ubuntu0.22.04.2',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mysql': 'alpha',\n        'mysql-root': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n  },\n  app_endpoints={\n    'db1': RemoteAppStatus(\n      url='concierge-microk8s:admin/testing.db1',\n      endpoints={\n        'replication-offer': RemoteEndpoint(interface='mysql_async', role='provider'),\n      },\n      app_status=StatusInfo(current='active', since='21 Oct 2025 01:56:30Z'),\n      relations={\n        'replication-offer': ['db2'],\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'database/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='21 Oct 2025 02:01:35Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'database/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='21 Oct 2025 02:01:35Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'database/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='21 Oct 2025 02:01:35Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='22d2aa77-966b-4006-9e94-079e8bbf0c21',\n        volume='0',\n        storage='database/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 02:01:35Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='83724813-3ae7-4788-be1e-5d156846974e',\n        volume='1',\n        storage='database/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/1': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 02:01:35Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='653d919f-f9ae-46a4-875f-63fd9b4e52f3',\n        volume='2',\n        storage='database/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/2': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 02:01:35Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-22d2aa77-966b-4006-9e94-079e8bbf0c21',\n        storage='database/0',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 01:51:32Z'),\n      ),\n      '1': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-83724813-3ae7-4788-be1e-5d156846974e',\n        storage='database/1',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/1': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 01:51:32Z'),\n      ),\n      '2': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-653d919f-f9ae-46a4-875f-63fd9b4e52f3',\n        storage='database/2',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/2': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 01:51:32Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='02:01:41Z'),\n)","time":{"start":1761011736964,"stop":1761012102430,"duration":365466}},{"uid":"55c5ff246b826f1f","reportUrl":"../3344//#testresult/55c5ff246b826f1f","status":"passed","time":{"start":1760926110033,"stop":1760926313574,"duration":203541}},{"uid":"febe4993a3d0ffe4","reportUrl":"../3343//#testresult/febe4993a3d0ffe4","status":"passed","time":{"start":1760838165881,"stop":1760838349534,"duration":183653}},{"uid":"c990bb768f1e95f6","reportUrl":"../3342//#testresult/c990bb768f1e95f6","status":"passed","time":{"start":1760777293816,"stop":1760777459813,"duration":165997}},{"uid":"b23a8faa5b7d2a7e","reportUrl":"../3338//#testresult/b23a8faa5b7d2a7e","status":"broken","statusDetails":"TimeoutError: wait timed out after 300s\nStatus(\n  model=ModelStatus(\n    name='testing-other',\n    type='caas',\n    controller='concierge-microk8s',\n    cloud='microk8s',\n    version='3.6.9',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='17 Oct 2025 06:58:05Z'),\n    sla='unsupported',\n  ),\n  machines={},\n  apps={\n    'db2': AppStatus(\n      charm='local:mysql-k8s-0',\n      charm_origin='local',\n      charm_name='mysql-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=3,\n      provider_id='5c6ca56c-3d1c-4193-99f4-112748956c1f',\n      address='10.152.183.151',\n      app_status=StatusInfo(current='active', since='17 Oct 2025 07:08:51Z'),\n      relations={\n        'database-peers': [\n          AppStatusRelation(related_app='db2', interface='mysql_peers', scope='global'),\n        ],\n        'replication': [\n          AppStatusRelation(related_app='db1', interface='mysql_async', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='db2', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='db2', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'db2/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Standby', since='17 Oct 2025 07:08:51Z'),\n          juju_status=StatusInfo(current='idle', since='17 Oct 2025 07:08:54Z', version='3.6.9'),\n          leader=True,\n          address='10.1.71.213',\n          provider_id='db2-0',\n        ),\n        'db2/1': UnitStatus(\n          workload_status=StatusInfo(current='active', since='17 Oct 2025 07:08:36Z'),\n          juju_status=StatusInfo(current='idle', since='17 Oct 2025 07:08:54Z', version='3.6.9'),\n          address='10.1.71.214',\n          provider_id='db2-1',\n        ),\n        'db2/2': UnitStatus(\n          workload_status=StatusInfo(current='active', since='17 Oct 2025 07:08:04Z'),\n          juju_status=StatusInfo(current='idle', since='17 Oct 2025 07:08:54Z', version='3.6.9'),\n          address='10.1.71.215',\n          provider_id='db2-2',\n        ),\n      },\n      version='8.0.42-0ubuntu0.22.04.2',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mysql': 'alpha',\n        'mysql-root': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n  },\n  app_endpoints={\n    'db1': RemoteAppStatus(\n      url='concierge-microk8s:admin/testing.db1',\n      endpoints={\n        'replication-offer': RemoteEndpoint(interface='mysql_async', role='provider'),\n      },\n      app_status=StatusInfo(current='active', since='17 Oct 2025 07:03:47Z'),\n      relations={\n        'replication-offer': ['db2'],\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'database/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='17 Oct 2025 07:08:08Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'database/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='17 Oct 2025 07:08:08Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'database/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='17 Oct 2025 07:08:08Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='53df969c-59fd-4a15-a772-034f92d15139',\n        volume='0',\n        storage='database/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='17 Oct 2025 07:08:08Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='76e6c4d0-6f65-4822-aefb-f74cc713de06',\n        volume='1',\n        storage='database/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/1': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='17 Oct 2025 07:08:08Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='9f07b11f-8be8-4c95-8119-fe30bcbe64ab',\n        volume='2',\n        storage='database/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/2': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='17 Oct 2025 07:08:08Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-53df969c-59fd-4a15-a772-034f92d15139',\n        storage='database/0',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='17 Oct 2025 06:58:35Z'),\n      ),\n      '1': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-76e6c4d0-6f65-4822-aefb-f74cc713de06',\n        storage='database/1',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/1': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='17 Oct 2025 06:58:35Z'),\n      ),\n      '2': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-9f07b11f-8be8-4c95-8119-fe30bcbe64ab',\n        storage='database/2',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/2': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='17 Oct 2025 06:58:35Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='07:08:59Z'),\n)","time":{"start":1760684566781,"stop":1760684941028,"duration":374247}},{"uid":"2219eb79f09b15d5","reportUrl":"../3336//#testresult/2219eb79f09b15d5","status":"passed","time":{"start":1760580264192,"stop":1760580433082,"duration":168890}},{"uid":"26402961355a6376","reportUrl":"../3334//#testresult/26402961355a6376","status":"passed","time":{"start":1760493189597,"stop":1760493347070,"duration":157473}},{"uid":"5c91b8fef9da2c48","reportUrl":"../3327//#testresult/5c91b8fef9da2c48","status":"passed","time":{"start":1760407479277,"stop":1760407704290,"duration":225013}},{"uid":"cd93e45bcf9f3bb","reportUrl":"../3326//#testresult/cd93e45bcf9f3bb","status":"passed","time":{"start":1760321127507,"stop":1760321331934,"duration":204427}},{"uid":"a96d80dcda80fac8","reportUrl":"../3325//#testresult/a96d80dcda80fac8","status":"passed","time":{"start":1760236813112,"stop":1760236975802,"duration":162690}},{"uid":"917f901e9a59b832","reportUrl":"../3324//#testresult/917f901e9a59b832","status":"passed","time":{"start":1760147119299,"stop":1760147312873,"duration":193574}},{"uid":"9b98f776543caaf5","reportUrl":"../3323//#testresult/9b98f776543caaf5","status":"passed","time":{"start":1760061713736,"stop":1760061912487,"duration":198751}},{"uid":"b312ead855807cda","reportUrl":"../3322//#testresult/b312ead855807cda","status":"broken","statusDetails":"TimeoutError: wait timed out after 300s\nStatus(\n  model=ModelStatus(\n    name='testing-other',\n    type='caas',\n    controller='concierge-microk8s',\n    cloud='microk8s',\n    version='3.6.9',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='09 Oct 2025 01:55:47Z'),\n  ),\n  machines={},\n  apps={\n    'db2': AppStatus(\n      charm='local:mysql-k8s-0',\n      charm_origin='local',\n      charm_name='mysql-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=3,\n      provider_id='767cc367-d4e7-457b-86d5-b1de8b8e0b56',\n      address='10.152.183.101',\n      app_status=StatusInfo(current='maintenance', message='Recovering replica cluster', since='09 Oct 2025 02:01:09Z'),\n      relations={\n        'database-peers': [\n          AppStatusRelation(related_app='db2', interface='mysql_peers', scope='global'),\n        ],\n        'replication': [\n          AppStatusRelation(related_app='db1', interface='mysql_async', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='db2', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='db2', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'db2/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='Waiting for recovery to complete on other units', since='09 Oct 2025 02:01:09Z'),\n          juju_status=StatusInfo(current='idle', since='09 Oct 2025 02:06:04Z', version='3.6.9'),\n          leader=True,\n          address='10.1.113.146',\n          provider_id='db2-0',\n        ),\n        'db2/1': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting to join the cluster', since='09 Oct 2025 02:01:09Z'),\n          juju_status=StatusInfo(current='idle', since='09 Oct 2025 02:06:03Z', version='3.6.9'),\n          address='10.1.113.147',\n          provider_id='db2-1',\n        ),\n        'db2/2': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting to join the cluster', since='09 Oct 2025 02:01:09Z'),\n          juju_status=StatusInfo(current='idle', since='09 Oct 2025 02:06:03Z', version='3.6.9'),\n          address='10.1.113.148',\n          provider_id='db2-2',\n        ),\n      },\n      version='8.0.42-0ubuntu0.22.04.2',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mysql': 'alpha',\n        'mysql-root': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n  },\n  app_endpoints={\n    'db1': RemoteAppStatus(\n      url='concierge-microk8s:admin/testing.db1',\n      endpoints={\n        'replication-offer': RemoteEndpoint(interface='mysql_async', role='provider'),\n      },\n      app_status=StatusInfo(current='active', since='09 Oct 2025 02:01:06Z'),\n      relations={\n        'replication-offer': ['db2'],\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'database/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', message='Successfully provisioned volume pvc-beb4b70c-5f8a-421e-b5e5-bfd18c396654', since='09 Oct 2025 01:56:15Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'database/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', message='Successfully provisioned volume pvc-4503ee79-ba25-4e9c-8078-334d023b22e8', since='09 Oct 2025 01:56:15Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'database/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', message='Successfully provisioned volume pvc-9d3b6243-629d-4369-a7f1-f644bb1513d9', since='09 Oct 2025 01:56:15Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='beb4b70c-5f8a-421e-b5e5-bfd18c396654',\n        volume='0',\n        storage='database/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', message='Successfully provisioned volume pvc-beb4b70c-5f8a-421e-b5e5-bfd18c396654', since='09 Oct 2025 01:56:15Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='4503ee79-ba25-4e9c-8078-334d023b22e8',\n        volume='1',\n        storage='database/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/1': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', message='Successfully provisioned volume pvc-4503ee79-ba25-4e9c-8078-334d023b22e8', since='09 Oct 2025 01:56:15Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='9d3b6243-629d-4369-a7f1-f644bb1513d9',\n        volume='2',\n        storage='database/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'db2/2': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', message='Successfully provisioned volume pvc-9d3b6243-629d-4369-a7f1-f644bb1513d9', since='09 Oct 2025 01:56:15Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-beb4b70c-5f8a-421e-b5e5-bfd18c396654',\n        storage='database/0',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='09 Oct 2025 01:56:14Z'),\n      ),\n      '1': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-4503ee79-ba25-4e9c-8078-334d023b22e8',\n        storage='database/1',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/1': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='09 Oct 2025 01:56:14Z'),\n      ),\n      '2': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-9d3b6243-629d-4369-a7f1-f644bb1513d9',\n        storage='database/2',\n        attachments=VolumeAttachments(\n          containers={\n            'db2/2': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db2/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='09 Oct 2025 01:56:14Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='02:06:14Z'),\n)","time":{"start":1759975204478,"stop":1759975575899,"duration":371421}},{"uid":"9a2cfe1a5b9355f6","reportUrl":"../3318//#testresult/9a2cfe1a5b9355f6","status":"passed","time":{"start":1759888873156,"stop":1759889048427,"duration":175271}},{"uid":"129df36a2a07bd9f","reportUrl":"../3311//#testresult/129df36a2a07bd9f","status":"passed","time":{"start":1759802032564,"stop":1759802203404,"duration":170840}},{"uid":"f9f66a0ca8163903","reportUrl":"../3305//#testresult/f9f66a0ca8163903","status":"passed","time":{"start":1759717651681,"stop":1759717810613,"duration":158932}},{"uid":"50d8ccd32b4d42c7","reportUrl":"../3304//#testresult/50d8ccd32b4d42c7","status":"passed","time":{"start":1759632975150,"stop":1759633207584,"duration":232434}},{"uid":"9126e4244b541e57","reportUrl":"../3303//#testresult/9126e4244b541e57","status":"broken","statusDetails":"TimeoutError: wait timed out after 300s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='concierge-microk8s',\n    cloud='microk8s',\n    version='3.6.9',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='04 Oct 2025 01:51:05Z'),\n  ),\n  machines={},\n  apps={\n    'db1': AppStatus(\n      charm='local:mysql-k8s-0',\n      charm_origin='local',\n      charm_name='mysql-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=3,\n      provider_id='a172af13-6f90-4729-8f00-5942b852493c',\n      address='10.152.183.111',\n      app_status=StatusInfo(current='maintenance', message='Setting up replication', since='04 Oct 2025 02:10:54Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='mysql-router-k8s', interface='mysql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='db1', interface='mysql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='db1', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='db1', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'db1/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='04 Oct 2025 01:53:41Z'),\n          juju_status=StatusInfo(current='idle', since='04 Oct 2025 02:15:04Z', version='3.6.9'),\n          address='10.1.113.140',\n          provider_id='db1-0',\n        ),\n        'db1/1': UnitStatus(\n          workload_status=StatusInfo(current='maintenance', message='Sharing credentials with replica cluster', since='04 Oct 2025 02:10:54Z'),\n          juju_status=StatusInfo(current='idle', since='04 Oct 2025 02:15:04Z', version='3.6.9'),\n          leader=True,\n          address='10.1.113.142',\n          provider_id='db1-1',\n        ),\n        'db1/2': UnitStatus(\n          workload_status=StatusInfo(current='active', since='04 Oct 2025 01:54:08Z'),\n          juju_status=StatusInfo(current='idle', since='04 Oct 2025 02:15:04Z', version='3.6.9'),\n          address='10.1.113.141',\n          provider_id='db1-2',\n        ),\n      },\n      version='8.0.42-0ubuntu0.22.04.2',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mysql': 'alpha',\n        'mysql-root': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'mysql-router-k8s': AppStatus(\n      charm='mysql-router-k8s',\n      charm_origin='charmhub',\n      charm_name='mysql-router-k8s',\n      charm_rev=837,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='8.0/edge',\n      scale=1,\n      provider_id='76a167b0-f92e-46a9-a31b-90760f930d91',\n      address='10.152.183.223',\n      app_status=StatusInfo(current='active', since='04 Oct 2025 02:10:45Z'),\n      relations={\n        'backend-database': [\n          AppStatusRelation(related_app='db1', interface='mysql_client', scope='global'),\n        ],\n        'cos': [\n          AppStatusRelation(related_app='mysql-router-k8s', interface='cos', scope='global'),\n        ],\n        'database': [\n          AppStatusRelation(related_app='mysql-test-app', interface='mysql_client', scope='global'),\n        ],\n        'mysql-router-peers': [\n          AppStatusRelation(related_app='mysql-router-k8s', interface='mysql_router_peers', scope='global'),\n        ],\n        'refresh-v-three': [\n          AppStatusRelation(related_app='mysql-router-k8s', interface='refresh', scope='global'),\n        ],\n        'tls': [\n          AppStatusRelation(related_app='mysql-router-k8s', interface='tls', scope='global'),\n        ],\n      },\n      units={\n        'mysql-router-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='04 Oct 2025 02:10:36Z'),\n          juju_status=StatusInfo(current='idle', since='04 Oct 2025 02:11:23Z', version='3.6.9'),\n          leader=True,\n          address='10.1.113.149',\n          provider_id='mysql-router-k8s-0',\n        ),\n      },\n      version='8.0.42',\n      endpoint_bindings={\n        '': 'alpha',\n        'backend-database': 'alpha',\n        'certificates': 'alpha',\n        'cos': 'alpha',\n        'database': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mysql-router-peers': 'alpha',\n        'refresh-v-three': 'alpha',\n        'tls': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'mysql-test-app': AppStatus(\n      charm='mysql-test-app',\n      charm_origin='charmhub',\n      charm_name='mysql-test-app',\n      charm_rev=85,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='6cff3e3e-d84a-464f-96cf-f9e9388a95c3',\n      address='10.152.183.201',\n      app_status=StatusInfo(current='active', since='04 Oct 2025 02:10:39Z'),\n      relations={\n        'application-peers': [\n          AppStatusRelation(related_app='mysql-test-app', interface='application-peers', scope='global'),\n        ],\n        'database': [\n          AppStatusRelation(related_app='mysql-router-k8s', interface='mysql_client', scope='global'),\n        ],\n      },\n      units={\n        'mysql-test-app/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='04 Oct 2025 02:10:39Z'),\n          juju_status=StatusInfo(current='idle', since='04 Oct 2025 02:10:41Z', version='3.6.9'),\n          leader=True,\n          address='10.1.113.150',\n          provider_id='mysql-test-app-0',\n        ),\n      },\n      version='0.0.2',\n      endpoint_bindings={'': 'alpha', 'application-peers': 'alpha', 'database': 'alpha', 'mysql': 'alpha'},\n    ),\n  },\n  offers={\n    'db1': OfferStatus(\n      app='db1',\n      endpoints={\n        'replication-offer': RemoteEndpoint(interface='mysql_async', role='provider'),\n      },\n      charm='local:mysql-k8s-0',\n      total_connected_count=1,\n      active_connected_count=1,\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'database/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:57:23Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db1/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'database/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:57:23Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db1/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n      'database/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:57:23Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'db1/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='596c7b21-d91b-4ca2-89bf-26fbc847b481',\n        volume='0',\n        storage='database/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'db1/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db1/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:57:23Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='f1196a3f-e116-4937-a300-bd0448028b47',\n        volume='1',\n        storage='database/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'db1/1': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db1/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:57:23Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='ee012920-0066-4400-9791-8d7d7baab98f',\n        volume='2',\n        storage='database/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'db1/2': FilesystemAttachment(mount_point='/var/lib/juju/storage/database/0', read_only=False, life='alive'),\n          },\n          units={\n            'db1/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:57:23Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-596c7b21-d91b-4ca2-89bf-26fbc847b481',\n        storage='database/0',\n        attachments=VolumeAttachments(\n          containers={\n            'db1/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db1/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:51:53Z'),\n      ),\n      '1': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-f1196a3f-e116-4937-a300-bd0448028b47',\n        storage='database/1',\n        attachments=VolumeAttachments(\n          containers={\n            'db1/1': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db1/1': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:51:53Z'),\n      ),\n      '2': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-ee012920-0066-4400-9791-8d7d7baab98f',\n        storage='database/2',\n        attachments=VolumeAttachments(\n          containers={\n            'db1/2': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'db1/2': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='04 Oct 2025 01:51:53Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='02:15:56Z'),\n)","time":{"start":1759543844823,"stop":1759544157154,"duration":312331}}]},"tags":["abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3+')"]},"source":"16b6e0cdf9beff5a.json","parameterValues":[]}