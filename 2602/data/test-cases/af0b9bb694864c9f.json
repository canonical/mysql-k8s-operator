{"uid":"af0b9bb694864c9f","name":"test_saturate_max_connections","fullName":"tests.integration.test_saturate_max_connections#test_saturate_max_connections","historyId":"d26db47924cdcac8cef09121b26fd9a9","time":{"start":1737336569492,"stop":1737336571156,"duration":1664},"status":"broken","statusMessage":"mysql.connector.errors.OperationalError: 1040 (08004): Too many connections","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/test_saturate_max_connections.py\", line 85, in test_saturate_max_connections\n    connections = create_db_connections(CONNECTIONS, **credentials)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/connector.py\", line 56, in create_db_connections\n    conn = mysql.connector.connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/pooling.py\", line 294, in connect\n    return MySQLConnection(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 164, in __init__\n    self.connect(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/abstracts.py\", line 1181, in connect\n    self._open_connection()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 572, in _open_connection\n    self._do_auth(\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 309, in _do_auth\n    self._auth_switch_request(username, password)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 366, in _auth_switch_request\n    raise get_exception(packet)\nmysql.connector.errors.OperationalError: 1040 (08004): Too many connections","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1737336499871,"stop":1737336499871,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1737336499871,"stop":1737336500067,"duration":196},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1737336499871,"stop":1737336499871,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1737336569492,"stop":1737336569492,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"mysql.connector.errors.OperationalError: 1040 (08004): Too many connections","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 182, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 100, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 529, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/test_saturate_max_connections.py\", line 85, in test_saturate_max_connections\n    connections = create_db_connections(CONNECTIONS, **credentials)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/connector.py\", line 56, in create_db_connections\n    conn = mysql.connector.connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/pooling.py\", line 294, in connect\n    return MySQLConnection(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 164, in __init__\n    self.connect(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/abstracts.py\", line 1181, in connect\n    self._open_connection()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 572, in _open_connection\n    self._do_auth(\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 309, in _do_auth\n    self._auth_switch_request(username, password)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 366, in _auth_switch_request\n    raise get_exception(packet)\nmysql.connector.errors.OperationalError: 1040 (08004): Too many connections","steps":[],"attachments":[{"uid":"4583304aaf28de8b","name":"log","source":"4583304aaf28de8b.txt","type":"text/plain","size":1438}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1737336571183,"stop":1737336571183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1737336571183,"stop":1737336571562,"duration":379},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1737336571563,"stop":1737336571563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1737336571563,"stop":1737336571563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1737336571563,"stop":1737336571563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_saturate_max_connections"},{"name":"host","value":"fv-az1694-736"},{"name":"thread","value":"16733-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_saturate_max_connections"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a3c859e4d8bdea39","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":107,"unknown":2,"total":114},"items":[{"uid":"33b0b30afee5c72b","reportUrl":"../2601//#testresult/33b0b30afee5c72b","status":"passed","time":{"start":1737250187248,"stop":1737250191945,"duration":4697}},{"uid":"30d8d0ac331619c","reportUrl":"../2600//#testresult/30d8d0ac331619c","status":"passed","time":{"start":1737163744865,"stop":1737163750571,"duration":5706}},{"uid":"296a1b5de444f28c","reportUrl":"../2595//#testresult/296a1b5de444f28c","status":"passed","time":{"start":1737077362820,"stop":1737077367556,"duration":4736}},{"uid":"52fa7f37e1001fcf","reportUrl":"../2587//#testresult/52fa7f37e1001fcf","status":"passed","time":{"start":1736991001505,"stop":1736991005344,"duration":3839}},{"uid":"3aef9894f264949c","reportUrl":"../2578//#testresult/3aef9894f264949c","status":"passed","time":{"start":1736904562753,"stop":1736904567441,"duration":4688}},{"uid":"5e517dc621742142","reportUrl":"../2573//#testresult/5e517dc621742142","status":"passed","time":{"start":1736818208168,"stop":1736818211946,"duration":3778}},{"uid":"33fe1cf9d6908f30","reportUrl":"../2570//#testresult/33fe1cf9d6908f30","status":"passed","time":{"start":1736731800445,"stop":1736731804205,"duration":3760}},{"uid":"dfde71bfbc2b14aa","reportUrl":"../2569//#testresult/dfde71bfbc2b14aa","status":"passed","time":{"start":1736645418851,"stop":1736645423605,"duration":4754}},{"uid":"3d4ce843d0f7ae67","reportUrl":"../2567//#testresult/3d4ce843d0f7ae67","status":"passed","time":{"start":1736559058069,"stop":1736559062939,"duration":4870}},{"uid":"3e33b5beb676417a","reportUrl":"../2562//#testresult/3e33b5beb676417a","status":"passed","time":{"start":1736472569438,"stop":1736472573172,"duration":3734}},{"uid":"6d15fe4cf39c3ae1","reportUrl":"../2539//#testresult/6d15fe4cf39c3ae1","status":"passed","time":{"start":1735867773439,"stop":1735867777577,"duration":4138}},{"uid":"54b01adbb3cf0da9","reportUrl":"../2538//#testresult/54b01adbb3cf0da9","status":"passed","time":{"start":1735781342316,"stop":1735781346445,"duration":4129}},{"uid":"46fe09511cb817d8","reportUrl":"../2537//#testresult/46fe09511cb817d8","status":"passed","time":{"start":1735694995620,"stop":1735694999759,"duration":4139}},{"uid":"5b6e9e280bcb6edc","reportUrl":"../2536//#testresult/5b6e9e280bcb6edc","status":"passed","time":{"start":1735608598591,"stop":1735608603749,"duration":5158}},{"uid":"a7b20039c460eb86","reportUrl":"../2534//#testresult/a7b20039c460eb86","status":"passed","time":{"start":1735522210480,"stop":1735522215627,"duration":5147}},{"uid":"e5dcd70309f8e194","reportUrl":"../2533//#testresult/e5dcd70309f8e194","status":"passed","time":{"start":1735435799305,"stop":1735435802462,"duration":3157}},{"uid":"1317dc8076b9462e","reportUrl":"../2532//#testresult/1317dc8076b9462e","status":"passed","time":{"start":1735349365353,"stop":1735349369491,"duration":4138}},{"uid":"7d2faa41ed26bda8","reportUrl":"../2530//#testresult/7d2faa41ed26bda8","status":"passed","time":{"start":1735262976024,"stop":1735262980172,"duration":4148}},{"uid":"6d031591947745a5","reportUrl":"../2529//#testresult/6d031591947745a5","status":"passed","time":{"start":1735176595664,"stop":1735176599818,"duration":4154}},{"uid":"7bf9138fe16636a","reportUrl":"../2528//#testresult/7bf9138fe16636a","status":"passed","time":{"start":1735090135721,"stop":1735090140865,"duration":5144}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"af0b9bb694864c9f.json","parameterValues":[]}