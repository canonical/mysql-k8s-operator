{"uid":"8882be1d4ccb4318","name":"test_deploy_latest","fullName":"tests.integration.high_availability.test_upgrade#test_deploy_latest","historyId":"4de377097c80900251c8c87ce650913d","time":{"start":1716082102193,"stop":1716082239472,"duration":137279},"description":"Simple test to ensure that the mysql and application charms get deployed.","descriptionHtml":"<p>Simple test to ensure that the mysql and application charms get deployed.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1716082101965,"stop":1716082101966,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1716082101966,"stop":1716082102192,"duration":226},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1716082101966,"stop":1716082101966,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1716082102193,"stop":1716082102193,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Simple test to ensure that the mysql and application charms get deployed.","status":"passed","steps":[],"attachments":[{"uid":"4dac7d40ad9708d","name":"log","source":"4dac7d40ad9708d.txt","type":"text/plain","size":1733}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1716082239472,"stop":1716082239472,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1716082719310,"stop":1716082722281,"duration":2971},"status":"broken","statusMessage":"OSError: [Errno 9] Bad file descriptor\n","statusTrace":"  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_operator/plugin.py\", line 235, in ops_test\n    await ops_test._cleanup_models()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_operator/plugin.py\", line 914, in _cleanup_models\n    await self._controller.disconnect()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/juju/controller.py\", line 196, in disconnect\n    await self._connector.disconnect()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/juju/client/connector.py\", line 92, in disconnect\n    await self._connection.close()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/juju/client/connection.py\", line 460, in close\n    await jasyncio.gather(*tasks_need_to_be_gathered)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/juju/client/connection.py\", line 808, in _try_endpoint\n    return await self._open(endpoint, cacert)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/juju/client/connection.py\", line 430, in _open\n    return (await websockets.connect(\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/websockets/legacy/client.py\", line 655, in __await_impl_timeout__\n    return await self.__await_impl__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/websockets/legacy/client.py\", line 659, in __await_impl__\n    _transport, _protocol = await self._create_connection()\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 1103, in create_connection\n    transport, protocol = await self._create_connection_transport(\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 1119, in _create_connection_transport\n    sock.setblocking(False)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1716082722282,"stop":1716082722282,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1716082722282,"stop":1716082722282,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1716082722282,"stop":1716082722282,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az693-93"},{"name":"thread","value":"12249-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":8,"skipped":0,"passed":99,"unknown":0,"total":107},"items":[{"uid":"e3597a755ad0014d","reportUrl":"../1887//#testresult/e3597a755ad0014d","status":"passed","time":{"start":1715995699315,"stop":1715995835328,"duration":136013}},{"uid":"6603fec68e00a3f9","reportUrl":"../1885//#testresult/6603fec68e00a3f9","status":"passed","time":{"start":1715909323554,"stop":1715909458979,"duration":135425}},{"uid":"b884a7b346d9b0ba","reportUrl":"../1884//#testresult/b884a7b346d9b0ba","status":"passed","time":{"start":1715822862510,"stop":1715822997553,"duration":135043}},{"uid":"e77f35dbc4d6db32","reportUrl":"../1881//#testresult/e77f35dbc4d6db32","status":"passed","time":{"start":1715736516461,"stop":1715736656018,"duration":139557}},{"uid":"12a42d736a9db998","reportUrl":"../1879//#testresult/12a42d736a9db998","status":"passed","time":{"start":1715650129772,"stop":1715650277812,"duration":148040}},{"uid":"c7269bbd4936cc3a","reportUrl":"../1876//#testresult/c7269bbd4936cc3a","status":"passed","time":{"start":1715563716756,"stop":1715563855308,"duration":138552}},{"uid":"635a697ca6c8ce0a","reportUrl":"../1875//#testresult/635a697ca6c8ce0a","status":"passed","time":{"start":1715477325755,"stop":1715477477195,"duration":151440}},{"uid":"99cc0de21030b383","reportUrl":"../1874//#testresult/99cc0de21030b383","status":"passed","time":{"start":1715390883957,"stop":1715391032478,"duration":148521}},{"uid":"9f78dd75563dde3d","reportUrl":"../1873//#testresult/9f78dd75563dde3d","status":"passed","time":{"start":1715304569635,"stop":1715304714758,"duration":145123}},{"uid":"1138be7f7fe227c8","reportUrl":"../1871//#testresult/1138be7f7fe227c8","status":"passed","time":{"start":1715218074957,"stop":1715218217524,"duration":142567}},{"uid":"5340f96f599bd772","reportUrl":"../1869//#testresult/5340f96f599bd772","status":"passed","time":{"start":1715131364326,"stop":1715131517116,"duration":152790}},{"uid":"cb4e72ae2fd0ec1c","reportUrl":"../1867//#testresult/cb4e72ae2fd0ec1c","status":"passed","time":{"start":1715045574291,"stop":1715045732579,"duration":158288}},{"uid":"fe34f91fa2920ed2","reportUrl":"../1866//#testresult/fe34f91fa2920ed2","status":"passed","time":{"start":1714958901515,"stop":1714959038029,"duration":136514}},{"uid":"28a9346c1d275b01","reportUrl":"../1865//#testresult/28a9346c1d275b01","status":"passed","time":{"start":1714872556915,"stop":1714872697085,"duration":140170}},{"uid":"7b46393bbc3e7e8d","reportUrl":"../1864//#testresult/7b46393bbc3e7e8d","status":"passed","time":{"start":1714786090765,"stop":1714786241977,"duration":151212}},{"uid":"18af9732fd31bf94","reportUrl":"../1863//#testresult/18af9732fd31bf94","status":"passed","time":{"start":1714700057243,"stop":1714700197893,"duration":140650}},{"uid":"c83b86c94281cea6","reportUrl":"../1858//#testresult/c83b86c94281cea6","status":"passed","time":{"start":1714613285426,"stop":1714613432697,"duration":147271}},{"uid":"26f3393eedf93483","reportUrl":"../1854//#testresult/26f3393eedf93483","status":"passed","time":{"start":1714526880872,"stop":1714527032531,"duration":151659}},{"uid":"2ca73c1b45369b86","reportUrl":"../1844//#testresult/2ca73c1b45369b86","status":"passed","time":{"start":1714440474938,"stop":1714440617342,"duration":142404}},{"uid":"2a6d6e5a1c1e8ca5","reportUrl":"../1838//#testresult/2a6d6e5a1c1e8ca5","status":"passed","time":{"start":1714354173388,"stop":1714354310214,"duration":136826}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"8882be1d4ccb4318.json","parameterValues":[]}