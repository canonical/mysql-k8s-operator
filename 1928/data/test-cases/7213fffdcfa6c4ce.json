{"uid":"7213fffdcfa6c4ce","name":"test_kill_db_process","fullName":"tests.integration.high_availability.test_self_healing#test_kill_db_process","historyId":"cf89d21b60cb6eab4b436c583b096289","time":{"start":1717637679915,"stop":1717637679915,"duration":0},"description":"Test to send a SIGKILL to the primary db process and ensure that the cluster self heals.","descriptionHtml":"<p>Test to send a SIGKILL to the primary db process and ensure that the cluster self heals.</p>\n","status":"broken","statusMessage":"KeyError: 'mysql-test-app'","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 157, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 497, in setup\n    raise exc\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 494, in setup\n    col.setup()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1795, in setup\n    self._request._fillfixtures()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 566, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 585, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1069, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 304, in _asyncgen_fixture_wrapper\n    result = event_loop.run_until_complete(setup())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 286, in setup\n    res = await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 25, in continuous_writes\n    application_unit = ops_test.model.applications[APPLICATION_DEFAULT_APP_NAME].units[0]\nKeyError: 'mysql-test-app'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1717637666910,"stop":1717637666910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1717637666910,"stop":1717637666910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1717637666910,"stop":1717637667144,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1717637679915,"stop":1717637679915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1717637679916,"stop":1717637679916,"duration":0},"status":"broken","statusMessage":"KeyError: 'mysql-test-app'\n","statusTrace":"  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 304, in _asyncgen_fixture_wrapper\n    result = event_loop.run_until_complete(setup())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 286, in setup\n    res = await gen_obj.__anext__()\n  File \"/home/runner/work/mysql-k8s-operator/mysql-k8s-operator/tests/integration/high_availability/conftest.py\", line 25, in continuous_writes\n    application_unit = ops_test.model.applications[APPLICATION_DEFAULT_APP_NAME].units[0]\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"abort_on_fail::0","time":{"start":1717637679918,"stop":1717637679918,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1717637679936,"stop":1717637687133,"duration":7197},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1717637687133,"stop":1717637687134,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1717637687134,"stop":1717637687134,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1717637687134,"stop":1717637687134,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1538-202"},{"name":"thread","value":"12254-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":13,"skipped":0,"passed":89,"unknown":0,"total":105},"items":[{"uid":"a2435267b24d85","reportUrl":"../1923//#testresult/a2435267b24d85","status":"passed","time":{"start":1717551097100,"stop":1717551187704,"duration":90604}},{"uid":"2a41864870c1077a","reportUrl":"../1916//#testresult/2a41864870c1077a","status":"passed","time":{"start":1717291939260,"stop":1717292029776,"duration":90516}},{"uid":"b3ebe87104ebd273","reportUrl":"../1915//#testresult/b3ebe87104ebd273","status":"passed","time":{"start":1717205580907,"stop":1717205671358,"duration":90451}},{"uid":"dc133c5488f5965c","reportUrl":"../1913//#testresult/dc133c5488f5965c","status":"passed","time":{"start":1717119039862,"stop":1717119130483,"duration":90621}},{"uid":"29888ef704d7760","reportUrl":"../1910//#testresult/29888ef704d7760","status":"passed","time":{"start":1717033230657,"stop":1717033320142,"duration":89485}},{"uid":"ef083dbb6fed2c67","reportUrl":"../1908//#testresult/ef083dbb6fed2c67","status":"passed","time":{"start":1716946372561,"stop":1716946462069,"duration":89508}},{"uid":"efdde034f93833f7","reportUrl":"../1904//#testresult/efdde034f93833f7","status":"passed","time":{"start":1716773437133,"stop":1716773525685,"duration":88552}},{"uid":"7fa905f811e83c32","reportUrl":"../1902//#testresult/7fa905f811e83c32","status":"passed","time":{"start":1716600626713,"stop":1716600715191,"duration":88478}},{"uid":"fa106bd9186f3a7f","reportUrl":"../1898//#testresult/fa106bd9186f3a7f","status":"passed","time":{"start":1716514699805,"stop":1716514789216,"duration":89411}},{"uid":"f3c1e66965a9f34f","reportUrl":"../1894//#testresult/f3c1e66965a9f34f","status":"passed","time":{"start":1716341681418,"stop":1716341771976,"duration":90558}},{"uid":"7721c6ae988719d1","reportUrl":"../1890//#testresult/7721c6ae988719d1","status":"passed","time":{"start":1716255093489,"stop":1716255172972,"duration":79483}},{"uid":"e06fc8d9cedd9a08","reportUrl":"../1888//#testresult/e06fc8d9cedd9a08","status":"passed","time":{"start":1716082279797,"stop":1716082369306,"duration":89509}},{"uid":"2c0dafefe3d81937","reportUrl":"../1881//#testresult/2c0dafefe3d81937","status":"passed","time":{"start":1715736683067,"stop":1715736772585,"duration":89518}},{"uid":"ea8afeb201bbeb78","reportUrl":"../1879//#testresult/ea8afeb201bbeb78","status":"passed","time":{"start":1715650303832,"stop":1715650393478,"duration":89646}},{"uid":"de6cc2476e98fde9","reportUrl":"../1876//#testresult/de6cc2476e98fde9","status":"passed","time":{"start":1715563894547,"stop":1715563985165,"duration":90618}},{"uid":"b7ed28e45f67e1b","reportUrl":"../1875//#testresult/b7ed28e45f67e1b","status":"passed","time":{"start":1715477539819,"stop":1715477629274,"duration":89455}},{"uid":"46ac8aa124b7c11a","reportUrl":"../1874//#testresult/46ac8aa124b7c11a","status":"passed","time":{"start":1715391079900,"stop":1715391169432,"duration":89532}},{"uid":"9fdc6c0bf06f8403","reportUrl":"../1871//#testresult/9fdc6c0bf06f8403","status":"broken","statusDetails":"KeyError: 'mysql-test-app'","time":{"start":1715218076359,"stop":1715218076359,"duration":0}},{"uid":"f74c94beaa3cedf1","reportUrl":"../1869//#testresult/f74c94beaa3cedf1","status":"passed","time":{"start":1715131579818,"stop":1715131669293,"duration":89475}},{"uid":"46510fab333ed59f","reportUrl":"../1867//#testresult/46510fab333ed59f","status":"passed","time":{"start":1715045732016,"stop":1715045822448,"duration":90432}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"7213fffdcfa6c4ce.json","parameterValues":[]}